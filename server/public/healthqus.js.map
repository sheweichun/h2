{"version":3,"sources":["webpack:///healthqus.js","webpack:///F:/workspace/miniapp/backend/manage/containers/healthqus/index.js","webpack:///F:/workspace/miniapp/node_modules/dayjs/dayjs.min.js","webpack:///F:/workspace/miniapp/backend/manage/components/upload/index.js","webpack:///F:/workspace/miniapp/backend/manage/components/upload/index.less?5ef7","webpack:///F:/workspace/miniapp/backend/manage/components/upload/index.less","webpack:///F:/workspace/miniapp/backend/manage/containers/healthqus/form.js","webpack:///F:/workspace/miniapp/backend/manage/containers/healthqus/items.js","webpack:///F:/workspace/miniapp/backend/manage/containers/healthqus/itemForm.js"],"names":["webpackJsonp","251","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","_react2","_react","_apiMap2","_apiMap","_form2","_form","_items2","_items","_dayjs2","_dayjs","Share","removeArticle","record","Dialog","confirm","title","onOk","Fetch","data","id","loadList","addArticle","show","content","onClose","hide","companySource","state","onSubmit","newData","assign","name","bonus","parseInt","cover","active_cover","start","end","flag","type","footer","handleItemsChanged","selectedQuestionnaire","backToQuestionnaireList","setState","showItemsManagement","companyMap","filterParams","questionnaireItems","query","onFilter","bind","COLUMNS","dataIndex","cell","val","src","style","height","Date","format","index","Button","onClick","editArticle","marginLeft","manageQuestionnaireItems","href","ApiMap","param","url","_Component","componentDidMount","_ref3","regeneratorRuntime","mark","_callee3","wrap","_context3","prev","next","stop","resp","list","reduce","ret","item","cid","map","label","padding","questionnaireId","onItemsChanged","onBack","margin","Table","dataSource","Column","width","filters","Component","252","t","e","r","s","u","a","o","c","f","h","d","l","$","y","M","weekdays","split","months","ordinal","n","m","String","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","_","O","args","b","locale","$L","utc","$u","x","$x","$offset","parse","$d","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","forEach","extend","$i","isDayjs","en","Ls","254","getFileSize","undefined","_extends","source","hasOwnProperty","Uploader","_index","beforeUpload","onChange","onSuccess","onError","file","fileSize","fsize","size","Message","warning","fRes","response","imgUrl","newVal","nextProps","success","children","otherProps","accept","Upload","action","apiMap","upload","limit","listType","255","options","transform","locals","256","push","282","wrapUploadValue","wrapTimeValue","moment","_upload2","_upload","FormItem","Form","Item","formItemLayout","labelCol","span","wrapperCol","CodeForm","minWidth","Input","defaultValue","placeholder","htmlType","DatePicker","Switch","autoWidth","defaultChecked","uploadBackend","offset","Submit","validate","start_tm","end_tm","active_covers","covers","isArray","num","isNaN","isshow","console","log","marginRight","Reset","283","_itemForm2","_itemForm","QuestionnaireItems","addItem","_this","qid","loadItems","loading","editItem","removeItem","_ref2","_callee2","_context2","itemId","some","catch","itemWithOptions","item_id","284","_toConsumableArray","arr","arr2","from","QuestionTypeSource","ItemForm","addOption","removeOption","newOptions","splice","handleOptionChange","field","showOptions","description","Select","required","option","display","marginBottom","flex","is_mult"],"mappings":"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","file":"healthqus.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 251:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _next = __webpack_require__(3);\n\nvar _request = __webpack_require__(7);\n\nvar _apiMap = __webpack_require__(8);\n\nvar _apiMap2 = _interopRequireDefault(_apiMap);\n\nvar _form = __webpack_require__(282);\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _items = __webpack_require__(283);\n\nvar _items2 = _interopRequireDefault(_items);\n\nvar _reactRouterDom = __webpack_require__(9);\n\nvar _dayjs = __webpack_require__(252);\n\nvar _dayjs2 = _interopRequireDefault(_dayjs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Share = function (_Component) {\n  _inherits(Share, _Component);\n\n  function Share(props) {\n    var _this2 = this;\n\n    _classCallCheck(this, Share);\n\n    var _this = _possibleConstructorReturn(this, (Share.__proto__ || Object.getPrototypeOf(Share)).call(this, props));\n\n    _this.removeArticle = function (record) {\n      _next.Dialog.confirm({\n        title: '\\u4F60\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u3010' + record.title + '\\u3011',\n        onOk: function () {\n          var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return (0, _request.Fetch)('removeArticle', {\n                      data: record.id\n                    });\n\n                  case 2:\n                    _context.next = 4;\n                    return _this.loadList();\n\n                  case 4:\n                  case 'end':\n                    return _context.stop();\n                }\n              }\n            }, _callee, _this2);\n          }));\n\n          return function onOk() {\n            return _ref.apply(this, arguments);\n          };\n        }()\n      });\n    };\n\n    _this.addArticle = function () {\n      var instance = _next.Dialog.show({\n        title: '创建问卷',\n        content: _react2.default.createElement(_form2.default, { onClose: function onClose() {\n            instance.hide();\n          }, companySource: _this.state.companySource, onSubmit: function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(data) {\n              var newData;\n              return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      newData = Object.assign({}, data);\n                      _context2.next = 3;\n                      return (0, _request.Fetch)('createQuestionnaire', {\n                        data: {\n                          name: newData.name,\n                          bonus: parseInt(newData.bonus),\n                          cover: newData.cover,\n                          active_cover: newData.active_cover,\n                          start: newData.start,\n                          end: newData.end,\n                          flag: newData.flag,\n                          type: 1\n                        }\n                      });\n\n                    case 3:\n                      _context2.next = 5;\n                      return _this.loadList();\n\n                    case 5:\n                      instance.hide();\n\n                    case 6:\n                    case 'end':\n                      return _context2.stop();\n                  }\n                }\n              }, _callee2, _this2);\n            }));\n\n            return function (_x) {\n              return _ref2.apply(this, arguments);\n            };\n          }() }),\n        footer: false\n      });\n    };\n\n    _this.handleItemsChanged = function () {\n      var selectedQuestionnaire = _this.state.selectedQuestionnaire;\n\n      if (selectedQuestionnaire) {\n        // this.loadQuestionnaireItems(selectedQuestionnaire.id)\n      }\n    };\n\n    _this.backToQuestionnaireList = function () {\n      _this.setState({\n        showItemsManagement: false,\n        selectedQuestionnaire: null\n      });\n    };\n\n    _this.state = {\n      data: [],\n      companyMap: {},\n      filterParams: {},\n      companySource: [],\n      showItemsManagement: false,\n      selectedQuestionnaire: null,\n      questionnaireItems: []\n    };\n    _this.query = {};\n    _this.onFilter = _this.onFilter.bind(_this);\n    _this.COLUMNS = [{\n      dataIndex: 'id',\n      title: 'id'\n    }, {\n      dataIndex: 'name',\n      title: '标题'\n    }, {\n      dataIndex: 'bonus',\n      title: '问卷积分'\n    }, {\n      dataIndex: 'active_cover',\n      title: '问卷生效封面',\n      cell: function cell(val) {\n        return _react2.default.createElement('img', { src: val, style: { height: '80px' } });\n      }\n    }, {\n      dataIndex: 'cover',\n      title: '问卷失效封面',\n      cell: function cell(val) {\n        return _react2.default.createElement('img', { src: val, style: { height: '80px' } });\n      }\n    }, {\n      dataIndex: 'start',\n      title: '生效时间',\n      cell: function cell(value) {\n        return (0, _dayjs2.default)(new Date(value)).format('YYYY-MM-DD');\n      }\n    }, {\n      dataIndex: 'end',\n      title: '失效时间',\n      cell: function cell(value) {\n        return (0, _dayjs2.default)(new Date(value)).format('YYYY-MM-DD');\n      }\n    }, {\n      dataIndex: 'flag',\n      title: '是否展示',\n      cell: function cell(value) {\n        return value === 1 ? '是' : '否';\n      }\n    }, {\n      dataIndex: '',\n      title: '操作',\n      cell: function cell(value, index, record) {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            _next.Button,\n            { onClick: _this.editArticle.bind(_this, record) },\n            '\\u4FEE\\u6539'\n          ),\n          _react2.default.createElement(\n            _next.Button,\n            { style: { marginLeft: '8px' }, type: 'primary', onClick: _this.manageQuestionnaireItems.bind(_this, record) },\n            '\\u7BA1\\u7406\\u9898\\u76EE'\n          ),\n          _react2.default.createElement(\n            'a',\n            { target: '_blank', href: _apiMap2.default['exportHealthInfoByQus'].param.url + '?qid=' + record.id, style: { marginLeft: '8px' } },\n            '\\u5BFC\\u51FA\\u5065\\u5EB7\\u4FE1\\u606F\\u544A\\u77E5\\u95EE\\u5377'\n          )\n        );\n      }\n    }];\n    return _this;\n  }\n\n  _createClass(Share, [{\n    key: 'componentDidMount',\n    value: function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                // this.loadCompanyList().then(() => {\n                //   this.loadList()\n                // })\n                this.loadList();\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentDidMount() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: 'loadCompanyList',\n    value: function loadCompanyList() {\n      var _this3 = this;\n\n      return (0, _request.Fetch)('getAllCompany').then(function (resp) {\n        var list = resp.data || [];\n        _this3.setState({\n          companyMap: list.reduce(function (ret, item) {\n            ret[item.cid] = item;\n            return ret;\n          }, {}),\n          companySource: list.map(function (item) {\n            return {\n              label: item.name,\n              value: item.cid\n            };\n          })\n        });\n      });\n    }\n  }, {\n    key: 'onFilter',\n    value: function onFilter(filterParams) {\n      // console.log('filterParams :', filterParams)\n      this.state.filterParams = filterParams;\n      this.loadList();\n      this.setState({\n        filterParams: filterParams\n      });\n    }\n  }, {\n    key: 'loadList',\n    value: function loadList() {\n      var _this4 = this;\n\n      var filterParams = this.state.filterParams;\n      // console.log('ion loadlist!!!!!!!!!!!!!222223333')\n      // Fetch('hasValidQuestionnaire').then((resp)=>{\n      //   console.log('resp :', resp)\n      // })\n\n      return (0, _request.Fetch)('getAllActivityQuestionnairesByType', {\n        type: '1'\n      }).then(function (resp) {\n        _this4.setState({\n          data: resp.data\n        });\n      });\n    }\n  }, {\n    key: 'editArticle',\n    value: function editArticle(record) {\n      var _this5 = this;\n\n      var instance = _next.Dialog.show({\n        title: '修改问卷',\n        content: _react2.default.createElement(_form2.default, { onClose: function onClose() {\n            instance.hide();\n          }, companySource: this.state.companySource, data: record, onSubmit: function () {\n            var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(data) {\n              var newData;\n              return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      newData = Object.assign({}, data);\n                      _context4.next = 3;\n                      return (0, _request.Fetch)('updateQuestionnaire', {\n                        data: {\n                          name: newData.name,\n                          bonus: parseInt(newData.bonus),\n                          cover: newData.cover,\n                          active_cover: newData.active_cover,\n                          start: newData.start,\n                          end: newData.end,\n                          flag: newData.flag,\n                          id: newData.id,\n                          type: 1\n                        } });\n\n                    case 3:\n                      _context4.next = 5;\n                      return _this5.loadList();\n\n                    case 5:\n                      instance.hide();\n\n                    case 6:\n                    case 'end':\n                      return _context4.stop();\n                  }\n                }\n              }, _callee4, _this5);\n            }));\n\n            return function (_x2) {\n              return _ref4.apply(this, arguments);\n            };\n          }() }),\n        footer: false\n      });\n    }\n  }, {\n    key: 'manageQuestionnaireItems',\n    value: function manageQuestionnaireItems(record) {\n      this.setState({\n        showItemsManagement: true,\n        selectedQuestionnaire: record\n      }, function () {\n        // this.loadQuestionnaireItems(record.id)\n      });\n    }\n\n    // loadQuestionnaireItems(qid) {\n    //   Fetch('getQuestionnaireItems', {\n    //     data: { qid }\n    //   }).then((resp) => {\n    //     this.setState({\n    //       questionnaireItems: resp.data || []\n    //     })\n    //   }).catch(err => {\n    //     Message.error('加载题目失败')\n    //   })\n    // }\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          data = _state.data,\n          filterParams = _state.filterParams,\n          showItemsManagement = _state.showItemsManagement,\n          selectedQuestionnaire = _state.selectedQuestionnaire,\n          questionnaireItems = _state.questionnaireItems;\n\n\n      if (showItemsManagement && selectedQuestionnaire) {\n        return _react2.default.createElement(\n          'div',\n          { style: { padding: '16px' } },\n          _react2.default.createElement(\n            'h2',\n            null,\n            selectedQuestionnaire.name,\n            ' - \\u9898\\u76EE\\u7BA1\\u7406'\n          ),\n          _react2.default.createElement(_items2.default, {\n            questionnaireId: selectedQuestionnaire.id,\n            questionnaireItems: questionnaireItems,\n            onItemsChanged: this.handleItemsChanged,\n            onBack: this.backToQuestionnaireList\n          })\n        );\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { style: { padding: '16px' } },\n        _react2.default.createElement(\n          'div',\n          { style: { margin: '4px 0 8px' } },\n          _react2.default.createElement(\n            _next.Button,\n            { type: 'primary', onClick: this.addArticle },\n            '\\u521B\\u5EFA\\u95EE\\u5377'\n          )\n        ),\n        _react2.default.createElement(\n          _next.Table,\n          { dataSource: data, filterParams: filterParams, onFilter: this.onFilter },\n          this.COLUMNS.map(function (item, key) {\n            return _react2.default.createElement(_next.Table.Column, {\n              key: key,\n              title: item.title,\n              cell: item.cell,\n              width: item.width,\n              filters: item.filters && item.filters(),\n              dataIndex: item.dataIndex\n            });\n          })\n        )\n      );\n    }\n  }]);\n\n  return Share;\n}(_react.Component);\n\nexports.default = Share;\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));\n\n/***/ }),\n\n/***/ 254:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _next = __webpack_require__(3);\n\nvar _apiMap = __webpack_require__(8);\n\nvar _apiMap2 = _interopRequireDefault(_apiMap);\n\nvar _index = __webpack_require__(255);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nif (false) {\n  module.hot.accept('./index.less', function () {\n    require('./index.less');\n  });\n}\n\nfunction getFileSize(val) {\n  if (!val || typeof val === 'string') {\n    return 1;\n  }\n  return val;\n}\n\nvar Uploader = function (_Component) {\n  _inherits(Uploader, _Component);\n\n  function Uploader(props) {\n    _classCallCheck(this, Uploader);\n\n    var _this = _possibleConstructorReturn(this, (Uploader.__proto__ || Object.getPrototypeOf(Uploader)).call(this, props));\n\n    _this.beforeUpload = _this.beforeUpload.bind(_this);\n    _this.onChange = _this.onChange.bind(_this);\n    _this.onSuccess = _this.onSuccess.bind(_this);\n    _this.onError = _this.onError.bind(_this);\n    _this.state = {\n      value: props.value\n    };\n    return _this;\n  }\n\n  _createClass(Uploader, [{\n    key: 'beforeUpload',\n    value: function beforeUpload(file) {\n      var fileSize = getFileSize(this.props.fsize);\n      // const { size } = this.props\n      // console.log('fsize :', file.size, this.props.size, fileSize * 1024 * 1024)\n      // return false\n      if (file.size > fileSize * 1024 * 1024) {\n        //   if (file.size > size) {\n        _next.Message.warning('\\u6587\\u4EF6\\u8D85\\u8FC7' + fileSize + 'M\\uFF0C\\u8BF7\\u8C03\\u6574\\u5927\\u5C0F\\u518D\\u4E0A\\u4F20');\n        return false;\n      }\n      // if (size) {\n\n      // }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(info) {\n      if (info && info[0]) {\n        var f = info[0];\n        var fRes = f.response || {};\n        if (fRes.error) {\n          // console.log('fRes.error :', fRes.error)\n          _next.Message.error('\\u4E0A\\u4F20\\u5931\\u8D25 ' + (fRes.error || '网络错误'));\n          this.setState({\n            value: []\n          });\n        } else if (fRes.data) {\n          var imgUrl = fRes.data.imgUrl;\n          var onChange = this.props.onChange;\n          // f.imgUrl = imgUrl\n\n          var newVal = [{\n            name: f.name,\n            url: imgUrl\n          }];\n          this.setState({\n            value: newVal\n          });\n          onChange && onChange(newVal);\n        }\n      } else {\n        this.setState({\n          value: info || []\n        });\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var value = nextProps.value;\n\n      this.setState({\n        value: value\n      });\n    }\n  }, {\n    key: 'onSuccess',\n    value: function onSuccess(info) {\n      var _props = this.props,\n          onSuccess = _props.onSuccess,\n          onError = _props.onError;\n      var error = info.response.error;\n\n      if (error) {\n        info.error = error;\n        onError && onError(info);\n      } else {\n        onSuccess && onSuccess(info);\n        _next.Message.success('上传成功');\n      }\n    }\n  }, {\n    key: 'onError',\n    value: function onError(info) {\n      var onError = this.props.onError;\n\n      onError && onError(info);\n      this.setState({\n        value: this.state.value\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var value = this.state.value;\n      var _props2 = this.props,\n          children = _props2.children,\n          fsize = _props2.fsize,\n          otherProps = _props2.otherProps,\n          _props2$accept = _props2.accept,\n          accept = _props2$accept === undefined ? 'image/png, image/jpg' : _props2$accept,\n          url = _props2.url;\n\n      return _react2.default.createElement(\n        _next.Upload,\n        _extends({}, otherProps, {\n          action: url || _apiMap2.default.upload.param.url\n          // beforeUpload={beforeUpload}\n          // onChange={onChange}\n          , accept: accept,\n          limit: 1,\n          beforeUpload: this.beforeUpload,\n          name: 'file',\n          size: getFileSize(fsize),\n          listType: 'image'\n          // multiple\n          , onChange: this.onChange,\n          onSuccess: this.onSuccess,\n          onError: this.onError,\n          value: value\n        }),\n        children || _react2.default.createElement(\n          _next.Button,\n          { type: 'primary', style: { padding: '0 12px' } },\n          '\\u4E0A\\u4F20\\u6587\\u4EF6'\n        )\n      );\n    }\n  }]);\n\n  return Uploader;\n}(_react.Component);\n\nexports.default = Uploader;\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(256);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(229)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(228)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _next = __webpack_require__(3);\n\nvar _upload = __webpack_require__(254);\n\nvar _upload2 = _interopRequireDefault(_upload);\n\nvar _apiMap = __webpack_require__(8);\n\nvar _apiMap2 = _interopRequireDefault(_apiMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormItem = _next.Form.Item;\n\nvar formItemLayout = {\n  labelCol: { span: 5 },\n  wrapperCol: { span: 19 }\n};\n\nfunction wrapUploadValue(url) {\n  return url ? [{ url: url }] : [];\n}\n\nfunction wrapTimeValue(val) {\n  return val ? moment(val) : undefined;\n}\n\nfunction wrapUploadPdfValue(url) {\n  return url ? [{ url: url, name: url }] : [];\n}\n\nvar ArticelTypeSource = [{\n  label: '网页',\n  value: 0\n}, {\n  label: 'PDF',\n  value: 1\n}];\n\nvar CodeForm = function (_Component) {\n  _inherits(CodeForm, _Component);\n\n  function CodeForm(props) {\n    _classCallCheck(this, CodeForm);\n\n    var _this = _possibleConstructorReturn(this, (CodeForm.__proto__ || Object.getPrototypeOf(CodeForm)).call(this, props));\n\n    var data = props.data || {};\n    // const type = data.type || ArticelTypeSource[0].value\n    // const icon = data.url\n    var newVal = Object.assign({}, data, {\n      // isshow: data.flag === 1\n      // type,\n      // icon\n    });\n    // newVal.start = moment(newVal.start)\n    // newVal.end = moment(newVal.end)\n    // console.log('start :', newVal.start)\n    _this.state = {\n      size: 'medium',\n      value: newVal\n    };\n    return _this;\n  }\n\n  _createClass(CodeForm, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          onSubmit = _props.onSubmit,\n          onClose = _props.onClose,\n          _props$data = _props.data,\n          data = _props$data === undefined ? {} : _props$data,\n          companySource = _props.companySource;\n      // const dataIcon = data.url\n\n      var value = this.state.value;\n      // const dataType = value.type || ArticelTypeSource[0].value\n      // console.log('go here!!', dataType === 0, this.state.value)\n      // console.log('value1 :', value, data.flag === 1)\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          _next.Form,\n          _extends({}, formItemLayout, { value: this.state.value, size: this.state.size, style: { minWidth: '500px' }, onChange: function onChange(val) {\n              _this2.setState({ value: val });\n            } }),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u6807\\u9898\\uFF1A' },\n            _react2.default.createElement(_next.Input, { defaultValue: data.name, placeholder: '\\u8F93\\u5165\\u6807\\u9898', id: 'name', name: 'name' }),\n            _react2.default.createElement(_next.Input, { defaultValue: data.id, htmlType: 'hidden', id: 'id', name: 'id' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u95EE\\u5377\\u79EF\\u5206\\uFF1A' },\n            _react2.default.createElement(_next.Input, { defaultValue: data.bonus, htmlType: 'number', placeholder: '\\u8F93\\u5165\\u95EE\\u5377\\u79EF\\u5206', id: 'bonus', name: 'bonus' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u751F\\u6548\\u65F6\\u95F4\\uFF1A' },\n            _react2.default.createElement(_next.DatePicker, { defaultValue: wrapTimeValue(data.start), id: 'start_tm', name: 'start_tm' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u7ED3\\u675F\\u65F6\\u95F4\\uFF1A' },\n            _react2.default.createElement(_next.DatePicker, { defaultValue: wrapTimeValue(data.end), id: 'end_tm', name: 'end_tm' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u662F\\u5426\\u5C55\\u793A\\uFF1A' },\n            _react2.default.createElement(_next.Switch, { autoWidth: true, defaultChecked: data.flag === 1, id: 'isshow', name: 'isshow' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u751F\\u6548\\u5C01\\u9762\\u56FE\\uFF1A' },\n            _react2.default.createElement(_upload2.default, { defaultValue: wrapUploadValue(data.active_cover), url: _apiMap2.default.uploadBackend.param.url, name: 'active_covers', id: 'active_covers' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u5931\\u6548\\u5C01\\u9762\\u56FE\\uFF1A' },\n            _react2.default.createElement(_upload2.default, { defaultValue: wrapUploadValue(data.cover), url: _apiMap2.default.uploadBackend.param.url, name: 'covers', id: 'covers' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { wrapperCol: { offset: 5 } },\n            _react2.default.createElement(\n              _next.Form.Submit,\n              { validate: true, type: 'primary', onClick: function onClick(v, e) {\n\n                  // console.log('v :', v)\n                  // return \n                  // v.active_covers = ['111']\n                  // v.covers = ['222']\n                  if (!v.name || !v.start_tm || !v.end_tm || !v.bonus || !v.active_covers || !v.covers || v.active_covers.length === 0 || v.covers.length === 0) {\n                    return _next.Message.warning('参数未填写完整,请检查');\n                  }\n                  v.active_cover = v.active_covers;\n                  v.cover = v.covers;\n                  if (Array.isArray(v.active_cover)) {\n                    v.active_cover = v.active_covers[0].url;\n                  }\n                  if (Array.isArray(v.cover)) {\n                    v.cover = v.covers[0].url;\n                  }\n                  if (v.end_tm.isBefore(v.start_tm)) {\n                    return _next.Message.warning('结束时间不能小于开始时间');\n                  }\n                  var num = parseInt(v.bonus);\n                  if (isNaN(num)) {\n                    return _next.Message.warning('问卷积分必须是数字');\n                  }\n                  v.start = v.start_tm.format('YYYY-MM-DD HH:mm:ss');\n                  v.end = v.end_tm.format('YYYY-MM-DD HH:mm:ss');\n                  if (v.isshow == null) {\n                    v.flag = data.flag;\n                  } else {\n                    v.flag = v.isshow ? 1 : 0;\n                  }\n\n                  console.log('v :', v);\n                  // if (v.type === ArticelTypeSource[0].value) { // 网页\n                  //   v.url = [{url: v.url}]\n                  // } else {\n                  //   v.url = v.icon\n                  // }\n\n\n                  // v.logo = v.logo[0].url\n                  // v.url = v.url[0].url\n                  onSubmit && onSubmit(v);\n                }, style: { marginRight: 10 } },\n              '\\u63D0\\u4EA4'\n            ),\n            _react2.default.createElement(\n              _next.Form.Reset,\n              { onClick: onClose },\n              '\\u53D6\\u6D88'\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return CodeForm;\n}(_react.Component);\n\nexports.default = CodeForm;\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _next = __webpack_require__(3);\n\nvar _request = __webpack_require__(7);\n\nvar _itemForm = __webpack_require__(284);\n\nvar _itemForm2 = _interopRequireDefault(_itemForm);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar QuestionnaireItems = function (_Component) {\n  _inherits(QuestionnaireItems, _Component);\n\n  function QuestionnaireItems(props) {\n    var _this3 = this;\n\n    _classCallCheck(this, QuestionnaireItems);\n\n    var _this2 = _possibleConstructorReturn(this, (QuestionnaireItems.__proto__ || Object.getPrototypeOf(QuestionnaireItems)).call(this, props));\n\n    _this2.addItem = function () {\n      var _this = _this2;\n      var instance = _next.Dialog.show({\n        title: '创建题目',\n        content: _react2.default.createElement(_itemForm2.default, { onClose: function onClose() {\n            instance.hide();\n          }, onSubmit: function () {\n            var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(data) {\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.prev = 0;\n                      _context.next = 3;\n                      return (0, _request.Fetch)('addQuestionnaireItem', {\n                        qid: _this.props.questionnaireId,\n                        data: data\n                      });\n\n                    case 3:\n                      _next.Message.success('创建成功');\n                      _context.next = 6;\n                      return _this2.loadItems();\n\n                    case 6:\n                      // Refresh parent if needed\n                      if (_this2.props.onItemsChanged) {\n                        _this2.props.onItemsChanged();\n                      }\n                      instance.hide();\n                      _context.next = 13;\n                      break;\n\n                    case 10:\n                      _context.prev = 10;\n                      _context.t0 = _context['catch'](0);\n\n                      _next.Message.error('创建失败');\n\n                    case 13:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this3, [[0, 10]]);\n            }));\n\n            return function (_x) {\n              return _ref.apply(this, arguments);\n            };\n          }() }),\n        footer: false\n      });\n    };\n\n    _this2.state = {\n      data: [],\n      loading: false\n    };\n    _this2.COLUMNS = [{\n      dataIndex: 'id',\n      title: 'ID'\n    }, {\n      dataIndex: 'title',\n      title: '题目标题'\n    }, {\n      dataIndex: 'description',\n      title: '题目说明'\n    }, {\n      dataIndex: 'type',\n      title: '题目类型',\n      cell: function cell(value) {\n        switch (value) {\n          case 1:\n            return '文本输入';\n          case 2:\n            return '单选';\n          case 3:\n            return '多选';\n          case 4:\n            return '文本域';\n          case 5:\n            return '附件';\n          default:\n            return '未知';\n        }\n      }\n    }, {\n      dataIndex: 'required',\n      title: '是否必填',\n      cell: function cell(value) {\n        return value === 1 ? '是' : '否';\n      }\n    },, {\n      dataIndex: 'options',\n      title: '选项值',\n      cell: function cell(value) {\n        return _react2.default.createElement(\n          'pre',\n          null,\n          (value || []).map(function (item, index) {\n            return '\\u9009\\u9879' + (index + 1) + ': ' + item.name;\n          }).join('\\n')\n        );\n        // return JSON.stringify(value || [], null, '  ')\n      }\n    }, {\n      dataIndex: 'is_mult',\n      title: '是否多选',\n      cell: function cell(value) {\n        return value === 1 ? '是' : '否';\n      }\n    }, {\n      dataIndex: '',\n      title: '操作',\n      cell: function cell(value, index, record) {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            _next.Button,\n            { onClick: _this2.editItem.bind(_this2, record) },\n            '\\u4FEE\\u6539'\n          ),\n          _react2.default.createElement(\n            _next.Button,\n            { style: { marginLeft: '12px' }, type: 'primary', warning: true, onClick: _this2.removeItem.bind(_this2, record) },\n            '\\u5220\\u9664'\n          )\n        );\n      }\n    }];\n    return _this2;\n  }\n\n  _createClass(QuestionnaireItems, [{\n    key: 'componentDidMount',\n    value: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.loadItems();\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: 'isItemInQuestionnaire',\n    value: function isItemInQuestionnaire(itemId) {\n      var questionnaireItems = this.props.questionnaireItems;\n\n      return questionnaireItems && questionnaireItems.some(function (item) {\n        return item.id === itemId;\n      });\n    }\n  }, {\n    key: 'loadItems',\n    value: function loadItems() {\n      var _this4 = this;\n\n      this.setState({ loading: true });\n      return (0, _request.Fetch)('getQuestionnaireItems', {\n        data: {\n          qid: this.props.questionnaireId\n        }\n      }).then(function (resp) {\n        console.log('resp :', resp);\n        _this4.setState({\n          data: resp.data || [],\n          loading: false\n        });\n      }).catch(function (err) {\n        _next.Message.error('加载题目失败');\n        _this4.setState({ loading: false });\n      });\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(record) {\n      var _this5 = this;\n\n      var _this = this;\n      _next.Dialog.confirm({\n        title: '\\u4F60\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u3010' + record.title + '\\u3011\\uFF0C\\u8BF7\\u8C28\\u614E\\u64CD\\u4F5C!!!!',\n        onOk: function () {\n          var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n            return regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.prev = 0;\n                    _context3.next = 3;\n                    return (0, _request.Fetch)('deleteQuestionnaireItem', {\n                      id: record.id,\n                      qid: _this.props.questionnaireId\n                    });\n\n                  case 3:\n                    _next.Message.success('删除成功');\n                    _context3.next = 6;\n                    return _this5.loadItems();\n\n                  case 6:\n                    // Refresh parent if needed\n                    if (_this5.props.onItemsChanged) {\n                      _this5.props.onItemsChanged();\n                    }\n                    _context3.next = 12;\n                    break;\n\n                  case 9:\n                    _context3.prev = 9;\n                    _context3.t0 = _context3['catch'](0);\n\n                    _next.Message.error('删除失败');\n\n                  case 12:\n                  case 'end':\n                    return _context3.stop();\n                }\n              }\n            }, _callee3, _this5, [[0, 9]]);\n          }));\n\n          return function onOk() {\n            return _ref3.apply(this, arguments);\n          };\n        }()\n      });\n    }\n  }, {\n    key: 'editItem',\n    value: function editItem(record) {\n      var _this6 = this;\n\n      // First, get the item with options\n      var itemWithOptions = record;\n\n      var instance = _next.Dialog.show({\n        title: '修改题目',\n        content: _react2.default.createElement(_itemForm2.default, { onClose: function onClose() {\n            instance.hide();\n          }, data: itemWithOptions, onSubmit: function () {\n            var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(data) {\n              return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      _context4.prev = 0;\n                      _context4.next = 3;\n                      return (0, _request.Fetch)('updateQuestionnaireItem', {\n                        data: data\n                      });\n\n                    case 3:\n                      _next.Message.success('修改成功');\n                      _context4.next = 6;\n                      return _this6.loadItems();\n\n                    case 6:\n                      // Refresh parent if needed\n                      if (_this6.props.onItemsChanged) {\n                        _this6.props.onItemsChanged();\n                      }\n                      instance.hide();\n                      _context4.next = 13;\n                      break;\n\n                    case 10:\n                      _context4.prev = 10;\n                      _context4.t0 = _context4['catch'](0);\n\n                      _next.Message.error('修改失败');\n\n                    case 13:\n                    case 'end':\n                      return _context4.stop();\n                  }\n                }\n              }, _callee4, _this6, [[0, 10]]);\n            }));\n\n            return function (_x2) {\n              return _ref4.apply(this, arguments);\n            };\n          }() }),\n        footer: false\n      });\n    }\n  }, {\n    key: 'addToQuestionnaire',\n    value: function addToQuestionnaire(record) {\n      var _this7 = this;\n\n      var questionnaireId = this.props.questionnaireId;\n\n      if (!questionnaireId) {\n        _next.Message.error('问卷ID不存在');\n        return;\n      }\n\n      (0, _request.Fetch)('addQuestionnaireItem', {\n        data: {\n          qid: questionnaireId,\n          item_id: record.id\n        }\n      }).then(function () {\n        _next.Message.success('添加到问卷成功');\n        if (_this7.props.onItemsChanged) {\n          _this7.props.onItemsChanged();\n        }\n      }).catch(function (err) {\n        _next.Message.error('添加到问卷失败');\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          data = _state.data,\n          loading = _state.loading;\n\n      return _react2.default.createElement(\n        'div',\n        { style: { padding: '16px' } },\n        _react2.default.createElement(\n          'div',\n          { style: { margin: '4px 0 8px' } },\n          _react2.default.createElement(\n            _next.Button,\n            { type: 'primary', onClick: this.addItem },\n            '\\u521B\\u5EFA\\u9898\\u76EE'\n          ),\n          this.props.onBack && _react2.default.createElement(\n            _next.Button,\n            { style: { marginLeft: '12px' }, onClick: this.props.onBack },\n            '\\u8FD4\\u56DE\\u95EE\\u5377\\u5217\\u8868'\n          )\n        ),\n        _react2.default.createElement(\n          _next.Table,\n          { dataSource: data, loading: loading },\n          this.COLUMNS.map(function (item, key) {\n            return _react2.default.createElement(_next.Table.Column, {\n              key: key,\n              title: item.title,\n              cell: item.cell,\n              width: item.width,\n              dataIndex: item.dataIndex\n            });\n          })\n        )\n      );\n    }\n  }]);\n\n  return QuestionnaireItems;\n}(_react.Component);\n\nexports.default = QuestionnaireItems;\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _next = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormItem = _next.Form.Item;\n\nvar formItemLayout = {\n  labelCol: { span: 5 },\n  wrapperCol: { span: 19 }\n};\n\nvar QuestionTypeSource = [{\n  label: '文本输入',\n  value: 1\n}, {\n  label: '单选',\n  value: 2\n}, {\n  label: '多选',\n  value: 3\n}, {\n  label: '文本域',\n  value: 4\n}];\n\nvar ItemForm = function (_Component) {\n  _inherits(ItemForm, _Component);\n\n  function ItemForm(props) {\n    _classCallCheck(this, ItemForm);\n\n    var _this = _possibleConstructorReturn(this, (ItemForm.__proto__ || Object.getPrototypeOf(ItemForm)).call(this, props));\n\n    _this.addOption = function () {\n      var options = _this.state.options;\n\n      _this.setState({\n        options: [].concat(_toConsumableArray(options), [{ value: '', name: '' }])\n      });\n    };\n\n    _this.removeOption = function (index) {\n      var options = _this.state.options;\n\n      var newOptions = [].concat(_toConsumableArray(options));\n      newOptions.splice(index, 1);\n      _this.setState({\n        options: newOptions\n      });\n    };\n\n    _this.handleOptionChange = function (index, field, value) {\n      var options = _this.state.options;\n\n      var newOptions = [].concat(_toConsumableArray(options));\n      newOptions[index][field] = value;\n      _this.setState({\n        options: newOptions\n      });\n    };\n\n    var data = props.data || {};\n    var newVal = Object.assign({}, data, {\n      options: data.options || []\n    });\n    _this.state = {\n      size: 'medium',\n      value: newVal,\n      options: data.options || []\n    };\n    return _this;\n  }\n\n  _createClass(ItemForm, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          onSubmit = _props.onSubmit,\n          onClose = _props.onClose,\n          _props$data = _props.data,\n          data = _props$data === undefined ? {} : _props$data;\n      var _state = this.state,\n          value = _state.value,\n          options = _state.options;\n\n      var showOptions = value.type === 2 || value.type === 3; // Show options for radio and checkbox types\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          _next.Form,\n          _extends({}, formItemLayout, { value: this.state.value, size: this.state.size, style: { minWidth: '500px' }, onChange: function onChange(val) {\n              _this2.setState({ value: val });\n            } }),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u9898\\u76EE\\u6807\\u9898\\uFF1A' },\n            _react2.default.createElement(_next.Input, { defaultValue: data.title, placeholder: '\\u8F93\\u5165\\u9898\\u76EE\\u6807\\u9898', id: 'title', name: 'title' }),\n            _react2.default.createElement(_next.Input, { defaultValue: data.id, htmlType: 'hidden', id: 'id', name: 'id' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u9898\\u76EE\\u8BF4\\u660E\\uFF1A' },\n            _react2.default.createElement(_next.Input, { defaultValue: data.description, placeholder: '\\u8F93\\u5165\\u9898\\u76EE\\u8BF4\\u660E', id: 'description', name: 'description' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u9898\\u76EE\\u7C7B\\u578B\\uFF1A' },\n            _react2.default.createElement(_next.Select, { dataSource: QuestionTypeSource, defaultValue: data.type || 1, id: 'type', name: 'type' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u662F\\u5426\\u5FC5\\u586B\\uFF1A' },\n            _react2.default.createElement(_next.Switch, { autoWidth: true, defaultChecked: data.required === 1, id: 'required', name: 'required' })\n          ),\n          showOptions && _react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(\n              FormItem,\n              { label: '\\u9009\\u9879\\uFF1A' },\n              _react2.default.createElement(\n                _next.Button,\n                { type: 'primary', onClick: this.addOption },\n                '\\u6DFB\\u52A0\\u9009\\u9879'\n              )\n            ),\n            options.map(function (option, index) {\n              return _react2.default.createElement(\n                'div',\n                { key: index, style: { display: 'flex', marginBottom: '10px' } },\n                _react2.default.createElement(\n                  FormItem,\n                  { label: '\\u9009\\u9879' + (index + 1) + '\\u540D\\u79F0\\uFF1A', style: { flex: 1 } },\n                  _react2.default.createElement(_next.Input, {\n                    value: option.name,\n                    placeholder: '\\u9009\\u9879\\u540D\\u79F0',\n                    onChange: function onChange(value) {\n                      return _this2.handleOptionChange(index, 'name', value);\n                    }\n                  })\n                ),\n                _react2.default.createElement(\n                  _next.Button,\n                  { type: 'primary', warning: true, onClick: function onClick() {\n                      return _this2.removeOption(index);\n                    }, style: { marginLeft: '10px' } },\n                  '\\u5220\\u9664'\n                )\n              );\n            })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { wrapperCol: { offset: 5 } },\n            _react2.default.createElement(\n              _next.Form.Submit,\n              { validate: true, type: 'primary', onClick: function onClick(v, e) {\n                  if (!v.title || !v.description || !v.type) {\n                    return _next.Message.warning('参数未填写完整,请检查');\n                  }\n\n                  // Prepare data for submission\n                  v.required = v.required ? 1 : 0;\n                  v.is_mult = v.type === 3 ? 1 : 0;\n\n                  // Add options if applicable\n                  if (showOptions) {\n                    v.options = _this2.state.options;\n                    v.options.forEach(function (option, index) {\n                      option.value = index;\n                    });\n                    if (v.options.length === 0) {\n                      return _next.Message.warning('请添加至少一个选项');\n                    }\n\n                    // Validate options\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                      for (var _iterator = v.options[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var option = _step.value;\n\n                        if (option.value == null || !option.name) {\n                          return _next.Message.warning('选项不能为空');\n                        }\n                      }\n                    } catch (err) {\n                      _didIteratorError = true;\n                      _iteratorError = err;\n                    } finally {\n                      try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                          _iterator.return();\n                        }\n                      } finally {\n                        if (_didIteratorError) {\n                          throw _iteratorError;\n                        }\n                      }\n                    }\n                  }\n\n                  onSubmit && onSubmit(v);\n                }, style: { marginRight: 10 } },\n              '\\u63D0\\u4EA4'\n            ),\n            _react2.default.createElement(\n              _next.Form.Reset,\n              { onClick: onClose },\n              '\\u53D6\\u6D88'\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return ItemForm;\n}(_react.Component);\n\nexports.default = ItemForm;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// healthqus.js","\r\nimport React, { Component } from 'react'\r\nimport {Table, Button, Dialog, Message} from '@alife/next'\r\nimport {Fetch} from '../../util/request'\r\nimport ApiMap from '../../util/apiMap'\r\nimport ArticleForm from './form'\r\nimport QuestionnaireItems from './items'\r\nimport {Link} from 'react-router-dom'\r\nimport dayjs from 'dayjs'\r\n\r\n\r\n\r\n\r\n\r\nclass Share extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      data: [],\r\n      companyMap: {},\r\n      filterParams: {},\r\n      companySource: [],\r\n      showItemsManagement: false,\r\n      selectedQuestionnaire: null,\r\n      questionnaireItems: []\r\n    }\r\n    this.query = {}\r\n    this.onFilter = this.onFilter.bind(this)\r\n    this.COLUMNS = [{\r\n      dataIndex: 'id',\r\n      title: 'id'\r\n    },{\r\n      dataIndex: 'name',\r\n      title: '标题'\r\n    }, {\r\n      dataIndex: 'bonus',\r\n      title: '问卷积分'\r\n    }, {\r\n      dataIndex: 'active_cover',\r\n      title: '问卷生效封面',\r\n      cell: function(val) {\r\n        return <img src={val} style={{height: '80px'}}></img>\r\n      }\r\n    }, {\r\n      dataIndex: 'cover',\r\n      title: '问卷失效封面',\r\n      cell: function(val) {\r\n        return <img src={val} style={{height: '80px'}}></img>\r\n      }\r\n    },  {\r\n      dataIndex: 'start',\r\n      title: '生效时间',\r\n      cell: function(value) {\r\n        return dayjs(new Date(value)).format('YYYY-MM-DD')\r\n      }\r\n    }, {\r\n      dataIndex: 'end',\r\n      title: '失效时间',\r\n      cell: function(value) {\r\n        return dayjs(new Date(value)).format('YYYY-MM-DD')\r\n      }\r\n    }, {\r\n      dataIndex: 'flag',\r\n      title: '是否展示',\r\n      cell: function(value) {\r\n        return value === 1 ? '是' : '否'\r\n      }\r\n    },  {\r\n      dataIndex: '',\r\n      title: '操作',\r\n      cell: (value, index, record) => {\r\n        return <div>\r\n            <Button onClick={this.editArticle.bind(this, record)}>修改</Button>\r\n            <Button style={{marginLeft: '8px'}} type=\"primary\" onClick={this.manageQuestionnaireItems.bind(this, record)}>管理题目</Button>\r\n            <a target=\"_blank\" href={`${ApiMap['exportHealthInfoByQus'].param.url}?qid=${record.id}`} style={{marginLeft: '8px'}}>导出健康信息告知问卷</a>\r\n            {/* <Button style={{marginLeft: '12px'}} type=\"primary\" warning onClick={this.removeArticle.bind(this, record)}>删除</Button> */}\r\n        </div>\r\n      }\r\n    }]\r\n  }\r\n  async componentDidMount() {\r\n    // this.loadCompanyList().then(() => {\r\n    //   this.loadList()\r\n    // })\r\n    this.loadList()\r\n  }\r\n\r\n  loadCompanyList() {\r\n    return Fetch('getAllCompany').then((resp) => {\r\n      const list = resp.data || []\r\n      this.setState({\r\n        companyMap: list.reduce((ret, item) => {\r\n          ret[item.cid] = item\r\n          return ret\r\n        }, {}),\r\n        companySource: list.map((item) => {\r\n          return {\r\n            label: item.name,\r\n            value: item.cid\r\n          }\r\n        })\r\n      })\r\n    })\r\n  }\r\n  onFilter(filterParams) {\r\n    // console.log('filterParams :', filterParams)\r\n    this.state.filterParams = filterParams\r\n    this.loadList()\r\n    this.setState({\r\n      filterParams\r\n    })\r\n  }\r\n  loadList() {\r\n    const { filterParams } = this.state\r\n    // console.log('ion loadlist!!!!!!!!!!!!!222223333')\r\n    // Fetch('hasValidQuestionnaire').then((resp)=>{\r\n    //   console.log('resp :', resp)\r\n    // })\r\n    return Fetch('getAllActivityQuestionnairesByType', {\r\n      type: '1'\r\n    }).then((resp) => {\r\n      this.setState({\r\n        data: resp.data\r\n      })\r\n    })\r\n  }\r\n  removeArticle=(record) => {\r\n    Dialog.confirm({\r\n      title: `你确定要删除【${record.title}】`,\r\n      onOk: async() => {\r\n        await Fetch('removeArticle', {\r\n          data: record.id\r\n        })\r\n        await this.loadList()\r\n      }\r\n    })\r\n  }\r\n  addArticle=() => {\r\n    const instance = Dialog.show({\r\n      title: '创建问卷',\r\n      content: <ArticleForm onClose={() => {\r\n        instance.hide()\r\n      }} companySource={this.state.companySource} onSubmit={async(data) => {\r\n        const newData = Object.assign({}, data)\r\n        await Fetch('createQuestionnaire', {\r\n          data: {\r\n            name: newData.name,\r\n            bonus: parseInt(newData.bonus),\r\n            cover: newData.cover,\r\n            active_cover: newData.active_cover,\r\n            start: newData.start,\r\n            end: newData.end,\r\n            flag: newData.flag,\r\n            type: 1\r\n          }\r\n        })\r\n        await this.loadList()\r\n        instance.hide()\r\n      }}></ArticleForm>,\r\n      footer: false\r\n    })\r\n  }\r\n  editArticle(record) {\r\n    const instance = Dialog.show({\r\n      title: '修改问卷',\r\n      content: <ArticleForm onClose={() => {\r\n        instance.hide()\r\n      }} companySource={this.state.companySource} data={record} onSubmit={async(data) => {\r\n        const newData = Object.assign({}, data)\r\n        await Fetch('updateQuestionnaire', {\r\n          data: {\r\n            name: newData.name,\r\n            bonus: parseInt(newData.bonus),\r\n            cover: newData.cover,\r\n            active_cover: newData.active_cover,\r\n            start: newData.start,\r\n            end: newData.end,\r\n            flag: newData.flag,\r\n            id: newData.id,\r\n            type: 1\r\n        }})\r\n        await this.loadList()\r\n        instance.hide()\r\n      }}></ArticleForm>,\r\n      footer: false\r\n    })\r\n  }\r\n\r\n  manageQuestionnaireItems(record) {\r\n    this.setState({\r\n      showItemsManagement: true,\r\n      selectedQuestionnaire: record\r\n    }, () => {\r\n      // this.loadQuestionnaireItems(record.id)\r\n    })\r\n  }\r\n\r\n  // loadQuestionnaireItems(qid) {\r\n  //   Fetch('getQuestionnaireItems', {\r\n  //     data: { qid }\r\n  //   }).then((resp) => {\r\n  //     this.setState({\r\n  //       questionnaireItems: resp.data || []\r\n  //     })\r\n  //   }).catch(err => {\r\n  //     Message.error('加载题目失败')\r\n  //   })\r\n  // }\r\n\r\n  handleItemsChanged = () => {\r\n    const { selectedQuestionnaire } = this.state\r\n    if (selectedQuestionnaire) {\r\n      // this.loadQuestionnaireItems(selectedQuestionnaire.id)\r\n    }\r\n  }\r\n\r\n  backToQuestionnaireList = () => {\r\n    this.setState({\r\n      showItemsManagement: false,\r\n      selectedQuestionnaire: null\r\n    })\r\n  }\r\n  render() {\r\n    const { data, filterParams, showItemsManagement, selectedQuestionnaire, questionnaireItems } = this.state\r\n\r\n    if (showItemsManagement && selectedQuestionnaire) {\r\n      return (\r\n        <div style={{padding: '16px'}}>\r\n          <h2>{selectedQuestionnaire.name} - 题目管理</h2>\r\n          <QuestionnaireItems\r\n            questionnaireId={selectedQuestionnaire.id}\r\n            questionnaireItems={questionnaireItems}\r\n            onItemsChanged={this.handleItemsChanged}\r\n            onBack={this.backToQuestionnaireList}\r\n          />\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div style={{padding: '16px'}}>\r\n        <div style={{margin: '4px 0 8px'}}>\r\n          <Button type=\"primary\" onClick={this.addArticle}>创建问卷</Button>\r\n        </div>\r\n        <Table dataSource={data} filterParams={filterParams} onFilter={this.onFilter}>\r\n          {\r\n            this.COLUMNS.map((item, key) => {\r\n              return <Table.Column\r\n              key={key}\r\n              title={item.title}\r\n              cell={item.cell}\r\n              width={item.width}\r\n              filters={item.filters && item.filters()}\r\n              dataIndex={item.dataIndex}\r\n              ></Table.Column>\r\n            })\r\n          }\r\n        </Table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Share\r\n\n\n\n// WEBPACK FOOTER //\n// F:/workspace/miniapp/backend/manage/containers/healthqus/index.js","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// F:/workspace/miniapp/node_modules/dayjs/dayjs.min.js\n// module id = 252\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17","\r\nimport React, { Component } from 'react'\r\nimport { Upload, Button, Message } from '@alife/next'\r\nimport apiMap from '../../util/apiMap'\r\nimport s from './index.less'\r\n\r\nfunction getFileSize(val) {\r\n  if (!val || typeof val === 'string') {\r\n    return 1\r\n  }\r\n  return val\r\n}\r\n\r\nexport default class Uploader extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.beforeUpload = this.beforeUpload.bind(this)\r\n    this.onChange = this.onChange.bind(this)\r\n    this.onSuccess = this.onSuccess.bind(this)\r\n    this.onError = this.onError.bind(this)\r\n    this.state = {\r\n      value: props.value\r\n    }\r\n  }\r\n  beforeUpload(file) {\r\n    const fileSize = getFileSize(this.props.fsize)\r\n    // const { size } = this.props\r\n    // console.log('fsize :', file.size, this.props.size, fileSize * 1024 * 1024)\r\n    // return false\r\n    if (file.size > fileSize * 1024 * 1024) {\r\n//   if (file.size > size) {\r\n      Message.warning(`文件超过${fileSize}M，请调整大小再上传`)\r\n      return false\r\n    }\r\n    // if (size) {\r\n\r\n    // }\r\n  }\r\n  onChange(info) {\r\n    if (info && info[0]) {\r\n      const f = info[0]\r\n      const fRes = f.response || {}\r\n      if (fRes.error) {\r\n        // console.log('fRes.error :', fRes.error)\r\n        Message.error(`上传失败 ${fRes.error || '网络错误'}`)\r\n        this.setState({\r\n          value: []\r\n        })\r\n      } else if (fRes.data) {\r\n        const { imgUrl } = fRes.data\r\n        const {onChange} = this.props\r\n        // f.imgUrl = imgUrl\r\n        const newVal = [\r\n          {\r\n            name: f.name,\r\n            url: imgUrl\r\n          }\r\n        ]\r\n        this.setState({\r\n          value: newVal\r\n        })\r\n        onChange && onChange(newVal)\r\n      }\r\n    } else {\r\n      this.setState({\r\n        value: info || []\r\n      })\r\n    }\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    const { value } = nextProps\r\n    this.setState({\r\n      value\r\n    })\r\n  }\r\n  onSuccess(info) {\r\n    const {onSuccess, onError} = this.props\r\n    const { error } = info.response\r\n    if (error) {\r\n      info.error = error\r\n      onError && onError(info)\r\n    } else {\r\n      onSuccess && onSuccess(info)\r\n      Message.success('上传成功')\r\n    }\r\n  }\r\n  onError(info) {\r\n    const {onError} = this.props\r\n    onError && onError(info)\r\n    this.setState({\r\n      value: this.state.value\r\n    })\r\n  }\r\n  render() {\r\n    const { value } = this.state\r\n    const { children, fsize, otherProps, accept = 'image/png, image/jpg', url } = this.props\r\n    return <Upload\r\n        {...otherProps}\r\n        action={url || apiMap.upload.param.url}\r\n        // beforeUpload={beforeUpload}\r\n        // onChange={onChange}\r\n        accept={accept}\r\n        limit={1}\r\n        beforeUpload={this.beforeUpload}\r\n        name=\"file\"\r\n        size={getFileSize(fsize)}\r\n        listType=\"image\"\r\n        // multiple\r\n        onChange={this.onChange}\r\n        onSuccess={this.onSuccess}\r\n        onError={this.onError}\r\n        value={value}\r\n    >\r\n        {children || <Button type=\"primary\" style={{padding: '0 12px'}}>上传文件</Button>}\r\n    </Upload>\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// F:/workspace/miniapp/backend/manage/components/upload/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\style-loader\\\\lib\\\\addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// F:/workspace/miniapp/backend/manage/components/upload/index.less\n// module id = 255\n// module chunks = 0 1 3 4 7 8","exports = module.exports = require(\"C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\css-loader\\\\lib\\\\css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/happypack/loader.js?id=style2!F:/workspace/miniapp/backend/manage/components/upload/index.less\n// module id = 256\n// module chunks = 0 1 3 4 7 8","\r\nimport React, { Component } from 'react'\r\nimport {Input, Form, Message, DatePicker, Switch} from '@alife/next'\r\nimport Uploader from '../../components/upload'\r\nimport apiMap from '../../util/apiMap'\r\nconst FormItem = Form.Item\r\n\r\nconst formItemLayout = {\r\n  labelCol: {span: 5},\r\n  wrapperCol: {span: 19}\r\n}\r\n\r\nfunction wrapUploadValue(url) {\r\n  return url ? [{url}] : []\r\n}\r\n\r\nfunction wrapTimeValue(val){\r\n  return val ? moment(val) : undefined\r\n}\r\n\r\nfunction wrapUploadPdfValue(url) {\r\n  return url ? [{url, name: url}] : []\r\n}\r\n\r\nconst ArticelTypeSource = [\r\n  {\r\n    label: '网页',\r\n    value: 0\r\n  }, {\r\n    label: 'PDF',\r\n    value: 1\r\n  }\r\n]\r\n\r\nclass CodeForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    const data = props.data || {}\r\n    // const type = data.type || ArticelTypeSource[0].value\r\n    // const icon = data.url\r\n    const newVal = Object.assign({}, data, {\r\n      // isshow: data.flag === 1\r\n      // type,\r\n      // icon\r\n    })\r\n    // newVal.start = moment(newVal.start)\r\n    // newVal.end = moment(newVal.end)\r\n    // console.log('start :', newVal.start)\r\n    this.state = {\r\n      size: 'medium',\r\n      value: newVal \r\n    }\r\n  }\r\n  render() {\r\n    const {onSubmit, onClose, data = {}, companySource} = this.props\r\n    // const dataIcon = data.url\r\n    const { value } = this.state\r\n    // const dataType = value.type || ArticelTypeSource[0].value\r\n    // console.log('go here!!', dataType === 0, this.state.value)\r\n    // console.log('value1 :', value, data.flag === 1)\r\n    return (\r\n            <div>\r\n                <Form {...formItemLayout} value={this.state.value} size={this.state.size} style={{minWidth: '500px'}} onChange={(val) => {\r\n                  this.setState({value: val})\r\n                }}>\r\n                    <FormItem label=\"标题：\">\r\n                        <Input defaultValue={data.name} placeholder=\"输入标题\" id=\"name\" name=\"name\"/>\r\n                        <Input defaultValue={data.id} htmlType=\"hidden\" id=\"id\" name=\"id\"/>\r\n                    </FormItem>\r\n                    <FormItem label=\"问卷积分：\">\r\n                        <Input defaultValue={data.bonus} htmlType=\"number\" placeholder=\"输入问卷积分\" id=\"bonus\" name=\"bonus\"/>\r\n                    </FormItem>\r\n                    <FormItem label=\"生效时间：\">\r\n                        <DatePicker defaultValue={wrapTimeValue(data.start)}  id=\"start_tm\" name=\"start_tm\"/>\r\n                    </FormItem>\r\n                    <FormItem label=\"结束时间：\">\r\n                        <DatePicker defaultValue={wrapTimeValue(data.end)}  id=\"end_tm\" name=\"end_tm\"/>\r\n                    </FormItem>\r\n                    <FormItem label=\"是否展示：\">\r\n                        <Switch autoWidth defaultChecked={data.flag === 1} id=\"isshow\" name=\"isshow\"/>\r\n                    </FormItem>\r\n                    <FormItem label=\"生效封面图：\">\r\n                        {/* <Input defaultValue={data.logo} placeholder=\"请输入图片链接\" id=\"logo\" name=\"logo\"/> */}\r\n                        <Uploader defaultValue={wrapUploadValue(data.active_cover)} url={apiMap.uploadBackend.param.url} name=\"active_covers\" id=\"active_covers\"></Uploader>\r\n                    </FormItem>\r\n                    <FormItem label=\"失效封面图：\">\r\n                        {/* <Input defaultValue={data.logo} placeholder=\"请输入图片链接\" id=\"logo\" name=\"logo\"/> */}\r\n                        <Uploader defaultValue={wrapUploadValue(data.cover)} url={apiMap.uploadBackend.param.url} name=\"covers\" id=\"covers\"></Uploader>\r\n                    </FormItem>\r\n                    {/* <FormItem label=\"文章跳转地址：\">\r\n                        {\r\n                          dataType === 0 ? <Input defaultValue={data.url} placeholder=\"请输入文章跳转地址\" id=\"url\" name=\"url\"/> :\r\n                          <Uploader fsize={100} accept=\"application/pdf\" url={apiMap.uploadBackend.param.url} defaultValue={wrapUploadPdfValue(dataIcon)} name=\"icon\" id=\"icon\"></Uploader>\r\n                        }\r\n                    </FormItem> */}\r\n                    <FormItem wrapperCol={{ offset: 5 }} >\r\n                        <Form.Submit validate type=\"primary\" onClick={(v, e) => {\r\n                          \r\n                          // console.log('v :', v)\r\n                          // return \r\n                          // v.active_covers = ['111']\r\n                          // v.covers = ['222']\r\n                          if (!v.name || !v.start_tm || !v.end_tm || !v.bonus || !v.active_covers || !v.covers || v.active_covers.length === 0 || v.covers.length === 0) {\r\n                            return Message.warning('参数未填写完整,请检查')\r\n                          }\r\n                          v.active_cover = v.active_covers\r\n                          v.cover = v.covers\r\n                          if (Array.isArray(v.active_cover)) {\r\n                            v.active_cover = v.active_covers[0].url\r\n                          }\r\n                          if (Array.isArray(v.cover)) {\r\n                            v.cover = v.covers[0].url\r\n                          }\r\n                          if(v.end_tm.isBefore(v.start_tm)){\r\n                            return Message.warning('结束时间不能小于开始时间')\r\n                          }\r\n                          const num = parseInt(v.bonus)\r\n                          if(isNaN(num)){\r\n                            return Message.warning('问卷积分必须是数字')\r\n                          }\r\n                          v.start = v.start_tm.format('YYYY-MM-DD HH:mm:ss')\r\n                          v.end = v.end_tm.format('YYYY-MM-DD HH:mm:ss')\r\n                          if(v.isshow == null){\r\n                            v.flag = data.flag\r\n                          }else{\r\n                            v.flag = v.isshow ? 1 : 0\r\n                          }\r\n                          \r\n                          console.log('v :', v)\r\n                          // if (v.type === ArticelTypeSource[0].value) { // 网页\r\n                          //   v.url = [{url: v.url}]\r\n                          // } else {\r\n                          //   v.url = v.icon\r\n                          // }\r\n                          \r\n                         \r\n                          // v.logo = v.logo[0].url\r\n                          // v.url = v.url[0].url\r\n                          onSubmit && onSubmit(v)\r\n                        }} style={{marginRight: 10}}>提交</Form.Submit>\r\n                        <Form.Reset onClick={onClose}>取消</Form.Reset>\r\n                    </FormItem>\r\n                </Form>\r\n            </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CodeForm\r\n\n\n\n// WEBPACK FOOTER //\n// F:/workspace/miniapp/backend/manage/containers/healthqus/form.js","import React, { Component } from 'react'\nimport { Table, Button, Dialog, Message } from '@alife/next'\nimport { Fetch } from '../../util/request'\nimport ItemForm from './itemForm'\n\nclass QuestionnaireItems extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      data: [],\n      loading: false\n    }\n    this.COLUMNS = [{\n      dataIndex: 'id',\n      title: 'ID'\n    }, {\n      dataIndex: 'title',\n      title: '题目标题'\n    }, {\n      dataIndex: 'description',\n      title: '题目说明'\n    }, {\n      dataIndex: 'type',\n      title: '题目类型',\n      cell: (value) => {\n        switch (value) {\n          case 1: return '文本输入'\n          case 2: return '单选'\n          case 3: return '多选'\n          case 4: return '文本域'\n          case 5: return '附件'\n          default: return '未知'\n        }\n      }\n    }, {\n      dataIndex: 'required',\n      title: '是否必填',\n      cell: (value) => {\n        return value === 1 ? '是' : '否'\n      }\n    },, {\n      dataIndex: 'options',\n      title: '选项值',\n      cell: (value) => {\n        return <pre>\n          {(value || []).map((item, index)=>{\n          return `选项${index+1}: ${item.name}`\n        }).join('\\n')}\n        </pre>\n        // return JSON.stringify(value || [], null, '  ')\n      }\n    }, {\n      dataIndex: 'is_mult',\n      title: '是否多选',\n      cell: (value) => {\n        return value === 1 ? '是' : '否'\n      }\n    }, {\n      dataIndex: '',\n      title: '操作',\n      cell: (value, index, record) => {\n        return <div>\n          <Button onClick={this.editItem.bind(this, record)}>修改</Button>\n          <Button style={{ marginLeft: '12px' }} type=\"primary\" warning onClick={this.removeItem.bind(this, record)}>删除</Button>\n          {/* {!this.isItemInQuestionnaire(record.id) && (\n            <Button style={{ marginLeft: '12px' }} type=\"primary\" onClick={this.addToQuestionnaire.bind(this, record)}>添加到问卷</Button>\n          )} */}\n        </div>\n      }\n    }]\n  }\n\n  async componentDidMount() {\n    this.loadItems()\n  }\n\n  isItemInQuestionnaire(itemId) {\n    const { questionnaireItems } = this.props\n    return questionnaireItems && questionnaireItems.some(item => item.id === itemId)\n  }\n\n  loadItems() {\n    this.setState({ loading: true })\n    return Fetch('getQuestionnaireItems', {\n      data: {\n        qid: this.props.questionnaireId\n      }\n    }).then((resp) => {\n      console.log('resp :', resp)\n      this.setState({\n        data: resp.data || [],\n        loading: false\n      })\n    }).catch(err => {\n      Message.error('加载题目失败')\n      this.setState({ loading: false })\n    })\n  }\n\n  removeItem(record) {\n    const _this = this\n    Dialog.confirm({\n      title: `你确定要删除【${record.title}】，请谨慎操作!!!!`,\n      onOk: async () => {\n        try {\n          await Fetch('deleteQuestionnaireItem', {\n            id: record.id,\n            qid: _this.props.questionnaireId\n          })\n          Message.success('删除成功')\n          await this.loadItems()\n          // Refresh parent if needed\n          if (this.props.onItemsChanged) {\n            this.props.onItemsChanged()\n          }\n        } catch (err) {\n          Message.error('删除失败')\n        }\n      }\n    })\n  }\n\n  addItem = () => {\n    const _this = this\n    const instance = Dialog.show({\n      title: '创建题目',\n      content: <ItemForm onClose={() => {\n        instance.hide()\n      }} onSubmit={async (data) => {\n        try {\n          await Fetch('addQuestionnaireItem', {\n            qid: _this.props.questionnaireId,\n            data: data\n          })\n          Message.success('创建成功')\n          await this.loadItems()\n          // Refresh parent if needed\n          if (this.props.onItemsChanged) {\n            this.props.onItemsChanged()\n          }\n          instance.hide()\n        } catch (err) {\n          Message.error('创建失败')\n        }\n      }}></ItemForm>,\n      footer: false\n    })\n  }\n\n  editItem(record) {\n    // First, get the item with options\n    const itemWithOptions = record\n      \n    const instance = Dialog.show({\n      title: '修改题目',\n      content: <ItemForm onClose={() => {\n        instance.hide()\n      }} data={itemWithOptions} onSubmit={async (data) => {\n        try {\n          await Fetch('updateQuestionnaireItem', {\n            data\n          })\n          Message.success('修改成功')\n          await this.loadItems()\n          // Refresh parent if needed\n          if (this.props.onItemsChanged) {\n            this.props.onItemsChanged()\n          }\n          instance.hide()\n        } catch (err) {\n          Message.error('修改失败')\n        }\n      }}></ItemForm>,\n      footer: false\n    })\n  }\n\n  addToQuestionnaire(record) {\n    const { questionnaireId } = this.props\n    if (!questionnaireId) {\n      Message.error('问卷ID不存在')\n      return\n    }\n\n    Fetch('addQuestionnaireItem', {\n      data: {\n        qid: questionnaireId,\n        item_id: record.id\n      }\n    }).then(() => {\n      Message.success('添加到问卷成功')\n      if (this.props.onItemsChanged) {\n        this.props.onItemsChanged()\n      }\n    }).catch(err => {\n      Message.error('添加到问卷失败')\n    })\n  }\n\n  render() {\n    const { data, loading } = this.state\n    return (\n      <div style={{ padding: '16px' }}>\n        <div style={{ margin: '4px 0 8px' }}>\n          <Button type=\"primary\" onClick={this.addItem}>创建题目</Button>\n          {this.props.onBack && (\n            <Button style={{ marginLeft: '12px' }} onClick={this.props.onBack}>返回问卷列表</Button>\n          )}\n        </div>\n        <Table dataSource={data} loading={loading}>\n          {\n            this.COLUMNS.map((item, key) => {\n              return <Table.Column\n                key={key}\n                title={item.title}\n                cell={item.cell}\n                width={item.width}\n                dataIndex={item.dataIndex}\n              ></Table.Column>\n            })\n          }\n        </Table>\n      </div>\n    )\n  }\n}\n\nexport default QuestionnaireItems\n\n\n\n// WEBPACK FOOTER //\n// F:/workspace/miniapp/backend/manage/containers/healthqus/items.js","import React, { Component } from 'react'\nimport { Input, Form, Message, Select, Switch, Button } from '@alife/next'\nconst FormItem = Form.Item\n\nconst formItemLayout = {\n  labelCol: { span: 5 },\n  wrapperCol: { span: 19 }\n}\n\nconst QuestionTypeSource = [\n  {\n    label: '文本输入',\n    value: 1\n  },\n  {\n    label: '单选',\n    value: 2\n  },\n  {\n    label: '多选',\n    value: 3\n  },\n  {\n    label: '文本域',\n    value: 4\n  }\n]\n\nclass ItemForm extends Component {\n  constructor(props) {\n    super(props)\n    const data = props.data || {}\n    const newVal = Object.assign({}, data, {\n      options: data.options || []\n    })\n    this.state = {\n      size: 'medium',\n      value: newVal,\n      options: data.options || []\n    }\n  }\n\n  addOption = () => {\n    const { options } = this.state\n    this.setState({\n      options: [...options, { value: '', name: '' }]\n    })\n  }\n\n  removeOption = (index) => {\n    const { options } = this.state\n    const newOptions = [...options]\n    newOptions.splice(index, 1)\n    this.setState({\n      options: newOptions\n    })\n  }\n\n  handleOptionChange = (index, field, value) => {\n    const { options } = this.state\n    const newOptions = [...options]\n    newOptions[index][field] = value\n    this.setState({\n      options: newOptions\n    })\n  }\n\n  render() {\n    const { onSubmit, onClose, data = {} } = this.props\n    const { value, options } = this.state\n    const showOptions = value.type === 2 || value.type === 3 // Show options for radio and checkbox types\n\n    return (\n      <div>\n        <Form {...formItemLayout} value={this.state.value} size={this.state.size} style={{ minWidth: '500px' }} onChange={(val) => {\n          this.setState({ value: val })\n        }}>\n          <FormItem label=\"题目标题：\">\n            <Input defaultValue={data.title} placeholder=\"输入题目标题\" id=\"title\" name=\"title\" />\n            <Input defaultValue={data.id} htmlType=\"hidden\" id=\"id\" name=\"id\" />\n          </FormItem>\n          <FormItem label=\"题目说明：\">\n            <Input defaultValue={data.description} placeholder=\"输入题目说明\" id=\"description\" name=\"description\" />\n          </FormItem>\n          <FormItem label=\"题目类型：\">\n            <Select dataSource={QuestionTypeSource} defaultValue={data.type || 1} id=\"type\" name=\"type\" />\n          </FormItem>\n          <FormItem label=\"是否必填：\">\n            <Switch autoWidth defaultChecked={data.required === 1} id=\"required\" name=\"required\" />\n          </FormItem>\n          {/* <FormItem label=\"是否多选：\">\n            <Switch autoWidth defaultChecked={data.is_mult === 1} id=\"is_mult\" name=\"is_mult\" />\n          </FormItem> */}\n\n          {showOptions && (\n            <div>\n              <FormItem label=\"选项：\">\n                <Button type=\"primary\" onClick={this.addOption}>添加选项</Button>\n              </FormItem>\n              {options.map((option, index) => (\n                <div key={index} style={{ display: 'flex', marginBottom: '10px' }}>\n                  \n                  <FormItem label={`选项${index + 1}名称：`} style={{ flex: 1 }}>\n                    <Input \n                      value={option.name} \n                      placeholder=\"选项名称\" \n                      onChange={(value) => this.handleOptionChange(index, 'name', value)} \n                    />\n                  </FormItem>\n                  {/* <FormItem label={`选项${index + 1}值：`} style={{ flex: 1 }}>\n                    <Input \n                      value={option.value} \n                      placeholder=\"选项值\" \n                      onChange={(value) => this.handleOptionChange(index, 'value', value)} \n                    />\n                  </FormItem> */}\n                  <Button type=\"primary\" warning onClick={() => this.removeOption(index)} style={{ marginLeft: '10px' }}>删除</Button>\n                </div>\n              ))}\n            </div>\n          )}\n\n          <FormItem wrapperCol={{ offset: 5 }} >\n            <Form.Submit validate type=\"primary\" onClick={(v, e) => {\n              if (!v.title || !v.description || !v.type) {\n                return Message.warning('参数未填写完整,请检查')\n              }\n\n              // Prepare data for submission\n              v.required = v.required ? 1 : 0\n              v.is_mult = v.type === 3 ? 1 : 0\n              \n              // Add options if applicable\n              if (showOptions) {\n                v.options = this.state.options\n                v.options.forEach((option, index) => {\n                  option.value = index\n                })\n                if (v.options.length === 0) {\n                  return Message.warning('请添加至少一个选项')\n                }\n                \n                // Validate options\n                for (const option of v.options) {\n                  if (option.value == null  || !option.name) {\n                    return Message.warning('选项不能为空')\n                  }\n                }\n              }\n\n              onSubmit && onSubmit(v)\n            }} style={{ marginRight: 10 }}>提交</Form.Submit>\n            <Form.Reset onClick={onClose}>取消</Form.Reset>\n          </FormItem>\n        </Form>\n      </div>\n    )\n  }\n}\n\nexport default ItemForm\n\n\n\n// WEBPACK FOOTER //\n// F:/workspace/miniapp/backend/manage/containers/healthqus/itemForm.js"],"sourceRoot":""}