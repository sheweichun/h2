{"version":3,"sources":["webpack:///userExchange.js","webpack:///F:/workspace/miniapp/backend/manage/containers/userExchange/index.js","webpack:///F:/workspace/miniapp/node_modules/dayjs/dayjs.min.js","webpack:///F:/workspace/miniapp/backend/manage/components/upload/index.js","webpack:///F:/workspace/miniapp/backend/manage/components/upload/index.less?5ef7","webpack:///F:/workspace/miniapp/backend/manage/components/upload/index.less","webpack:///F:/workspace/miniapp/backend/manage/containers/userExchange/form.js"],"names":["webpackJsonp","241","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","arg","info","error","done","then","err","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","_react2","_react","_moment2","_moment","_apiMap2","_apiMap","_form2","_form","_dayjs2","_dayjs","RangePicker","DatePicker","Option","Select","NormalUserExchangeStatus","label","CancelStatus","pages","UserExchangeStatus","concat","UserExchangeStatusMap","reduce","ret","item","SUB_COLUMNS","dataIndex","title","UserExchange","changePageSize","state","pageSize","setState","loadList","current","filterParams","search","range","console","log","Fetch","startTime","format","endTime","sortColumn","sortOrder","filterStr","JSON","stringify","keys","map","name","values","selectedKeys","resp","data","total","forEach","duihuanTotal","subItems","subItem","bonus","num","onFilter","onPageChange","changeSearch","val","onSort","order","sort","loadlistBySearch","some","Message","warning","companies","subtract","create_time","query","onChangeTime","bind","COLUMNS","width","cell","src","style","height","borderRadius","index","record","companyName","filters","color","maxWidth","province","city","region","sortable","Date","status","Button","marginRight","type","onClick","confirmCompleteExchange","confirmCancelExchange","updateRemark","_Component","Dialog","show","content","onClose","hide","remark","onSubmit","infoId","id","footer","confirm","realName","onOk","completeExchange","cancelExchange","_x3","_ref3","regeneratorRuntime","mark","_callee3","wrap","_context3","prev","next","uid","stop","_x4","_ref4","_callee4","_context4","cid","componentDidMount","_ref5","_callee5","_context5","loadCompany","code_id","exportUrl","ApiMap","param","url","padding","marginBottom","Input","onChange","placeholder","marginLeft","float","href","Table","dataSource","expandedRowRender","subCol","subKey","Column","marginTop","display","justifyContent","flexDirection","alignItems","hasClear","margin","pg","pindex","Pagination","Component","252","t","e","r","s","u","a","o","c","f","h","d","l","$","y","M","weekdays","split","months","ordinal","n","m","String","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","_","O","args","b","locale","$L","utc","$u","x","$x","$offset","parse","$d","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","extend","$i","isDayjs","en","Ls","254","getFileSize","undefined","_extends","assign","source","hasOwnProperty","Uploader","_index","beforeUpload","onSuccess","onError","file","fileSize","fsize","size","fRes","response","imgUrl","newVal","nextProps","success","children","otherProps","accept","Upload","action","apiMap","upload","limit","listType","255","options","transform","locals","256","push","272","FormItem","_upload","Form","Item","formItemLayout","labelCol","span","wrapperCol","RemarkForm","minWidth","defaultValue","offset","Submit","validate","Reset"],"mappings":"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","file":"userExchange.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 241:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _next = __webpack_require__(3);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _request = __webpack_require__(7);\n\nvar _apiMap = __webpack_require__(8);\n\nvar _apiMap2 = _interopRequireDefault(_apiMap);\n\nvar _reactRouterDom = __webpack_require__(9);\n\nvar _form = __webpack_require__(272);\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _dayjs = __webpack_require__(252);\n\nvar _dayjs2 = _interopRequireDefault(_dayjs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RangePicker = _next.DatePicker.RangePicker;\n\n\nvar Option = _next.Select.Option;\n// import ExchangeForm from './exchange'\n// import EditForm from './edit'\n// import BonusForm from './bonus'\n\n\nvar NormalUserExchangeStatus = [{\n  label: '待处理',\n  value: 0\n}, {\n  label: '已完成', //需要真正扣除积分\n  value: 1\n}];\n\nvar CancelStatus = {\n  label: '已取消', //需要归还积分和奖品库存\n  value: -1\n};\n\nvar pages = [{\n  label: '10',\n  value: 10\n}, {\n  label: '25',\n  value: 25\n}, {\n  label: '50',\n  value: 50\n}, {\n  label: '100',\n  value: 100\n}, {\n  label: '200',\n  value: 200\n}, {\n  label: '500',\n  value: 500\n}];\n\nvar UserExchangeStatus = [].concat(NormalUserExchangeStatus, [CancelStatus]);\nvar UserExchangeStatusMap = UserExchangeStatus.reduce(function (ret, item) {\n  ret[item.value] = item;\n  return ret;\n}, {});\n\nvar SUB_COLUMNS = [{\n  dataIndex: 'gift_name',\n  title: '奖品名'\n}, {\n  dataIndex: 'gift_desc',\n  title: '奖品描述'\n}, {\n  dataIndex: 'bonus',\n  title: '奖品兑换所需积分'\n}, {\n  dataIndex: 'num',\n  title: '奖品兑换数量'\n}];\n\nvar UserExchange = function (_Component) {\n  _inherits(UserExchange, _Component);\n\n  function UserExchange(props) {\n    var _this2 = this;\n\n    _classCallCheck(this, UserExchange);\n\n    var _this = _possibleConstructorReturn(this, (UserExchange.__proto__ || Object.getPrototypeOf(UserExchange)).call(this, props));\n\n    _this.changePageSize = function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(value) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.state.pageSize = value;\n                _this.setState({\n                  pageSize: value\n                });\n                _context.next = 4;\n                return _this.loadList();\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.loadList = function () {\n      var _this$state = _this.state,\n          pageSize = _this$state.pageSize,\n          current = _this$state.current,\n          filterParams = _this$state.filterParams,\n          search = _this$state.search,\n          range = _this$state.range;\n\n      console.log('filterParams :', filterParams);\n      return (0, _request.Fetch)('allUserExchange', {\n        pageSize: pageSize,\n        current: current,\n        search: search,\n        startTime: range[0].format('YYYY-MM-DD') + ' 00:00:00',\n        endTime: range[1].format('YYYY-MM-DD') + ' 23:59:59',\n        sortColumn: _this.sortColumn,\n        sortOrder: _this.sortOrder,\n        filterStr: JSON.stringify(Object.keys(filterParams).map(function (name) {\n          return {\n            name: name,\n            values: filterParams[name].selectedKeys\n          };\n        }))\n      }).then(function (resp) {\n        var _resp$data = resp.data,\n            data = _resp$data.data,\n            total = _resp$data.total;\n\n        data.forEach(function (item) {\n          item.duihuanTotal = item.subItems.reduce(function (total, subItem) {\n            total += subItem.bonus * subItem.num;\n            return total;\n          }, 0);\n        });\n        _this.setState({\n          data: data,\n          total: total\n        });\n      });\n    };\n\n    _this.onFilter = function (filterParams) {\n      // console.log('filterParams :', filterParams)\n      _this.state.filterParams = filterParams;\n      _this.loadList();\n      _this.setState({\n        filterParams: filterParams\n      });\n    };\n\n    _this.onPageChange = function (current) {\n      _this.state.current = current;\n      _this.loadList();\n      _this.setState({\n        current: current\n      });\n    };\n\n    _this.changeSearch = function (val) {\n      _this.setState({\n        search: val\n      });\n    };\n\n    _this.onSort = function (dataIndex, order) {\n      // console.log(dataIndex, order)\n      _this.sortColumn = dataIndex;\n      _this.sortOrder = order;\n      _this.loadList();\n      _this.setState({\n        sort: _defineProperty({}, dataIndex, order)\n      });\n    };\n\n    _this.loadlistBySearch = function () {\n      var range = _this.state.range;\n      _this.state.current = 1;\n      if (range.some(function (item) {\n        return item == null;\n      })) {\n        _next.Message.warning('请选择开始日期和结束日期');\n        return;\n      }\n      _this.loadList();\n    };\n\n    _this.state = {\n      data: [],\n      pageSize: 25,\n      current: 1,\n      total: 0,\n      search: '',\n      companies: [],\n      filterParams: {},\n      range: [(0, _moment2.default)().subtract(7, 'days'), (0, _moment2.default)()],\n      sort: {\n        create_time: 'desc'\n      }\n    };\n    _this.sortColumn = 'create_time';\n    _this.sortOrder = 'desc';\n    _this.query = {};\n    _this.onChangeTime = _this.onChangeTime.bind(_this);\n    _this.COLUMNS = [{\n      dataIndex: 'avatarUrl',\n      title: '兑换人头像',\n      width: 100,\n      cell: function cell(value) {\n        return _react2.default.createElement('img', { src: value, style: { width: '60px', height: '60px', borderRadius: '50%' } });\n      }\n    }, {\n      dataIndex: 'nickName',\n      title: '兑换人微信昵称'\n    }, {\n      dataIndex: 'realName',\n      title: '兑换人姓名'\n    }, {\n      dataIndex: 'companyid',\n      title: '兑换人公司',\n      cell: function cell(value, index, record) {\n        return record.companyName;\n      },\n      filters: function filters() {\n        return _this.state.companies;\n      }\n    }, {\n      dataIndex: 'duihuanTotal',\n      title: _react2.default.createElement(\n        'div',\n        { style: { color: 'red' } },\n        '\\u672C\\u6B21\\u5151\\u6362\\u79EF\\u5206'\n      )\n    }, {\n      dataIndex: 'addrName',\n      title: '收货人姓名'\n    }, {\n      dataIndex: 'addrPhone',\n      title: '收货人电话'\n    }, {\n      dataIndex: 'province',\n      title: '收货人地址',\n      cell: function cell(value, index, record) {\n        return _react2.default.createElement(\n          'div',\n          { style: { maxWidth: '200px' } },\n          record.province,\n          '-',\n          record.city,\n          '-',\n          record.region,\n          '-',\n          record.info\n        );\n      }\n    }, {\n      dataIndex: 'create_time',\n      title: '兑换创建时间',\n      sortable: true,\n      cell: function cell(value) {\n        if (value == null) return '--';\n        return (0, _dayjs2.default)(new Date(value)).format('YYYY-MM-DD HH:mm');\n      }\n    }, {\n      dataIndex: 'remark',\n      title: '订单备注信息'\n    }, {\n      dataIndex: 'status',\n      title: '兑换订单状态',\n      cell: function cell(value, index, record) {\n        return _react2.default.createElement(\n          'div',\n          { style: { color: value === -1 ? 'red' : '' } },\n          UserExchangeStatusMap[value].label\n        );\n      },\n      filters: function filters() {\n        return UserExchangeStatus;\n      }\n    }, {\n      dataIndex: 'uid',\n      title: '操作',\n      cell: function cell(value, index, record) {\n        return _react2.default.createElement(\n          'div',\n          null,\n          record.status === 0 && _react2.default.createElement(\n            _next.Button,\n            { style: { marginRight: '8px' }, type: 'primary', onClick: _this.confirmCompleteExchange.bind(_this, record) },\n            '\\u5B8C\\u6210'\n          ),\n          record.status === 0 && _react2.default.createElement(\n            _next.Button,\n            { style: { marginRight: '8px' }, warning: true, type: 'primary', onClick: _this.confirmCancelExchange.bind(_this, record) },\n            '\\u53D6\\u6D88'\n          ),\n          _react2.default.createElement(\n            _next.Button,\n            { type: 'secondary', onClick: _this.updateRemark.bind(_this, record) },\n            '\\u4FEE\\u6539\\u8BA2\\u5355\\u5907\\u6CE8'\n          )\n        );\n      }\n    }];\n    return _this;\n  }\n\n  _createClass(UserExchange, [{\n    key: 'updateRemark',\n    value: function updateRemark(record) {\n      var _this3 = this;\n\n      var instance = _next.Dialog.show({\n        title: '修改订单备注',\n        content: _react2.default.createElement(_form2.default, {\n          onClose: function onClose() {\n            instance.hide();\n          }, data: {\n            remark: record.remark\n          }, onSubmit: function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(data) {\n              return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      _context2.next = 2;\n                      return (0, _request.Fetch)('updateExchangeRecordRemark', {\n                        infoId: record.id,\n                        remark: data.remark\n                      });\n\n                    case 2:\n                      _context2.next = 4;\n                      return _this3.loadList();\n\n                    case 4:\n                      instance.hide();\n\n                    case 5:\n                    case 'end':\n                      return _context2.stop();\n                  }\n                }\n              }, _callee2, _this3);\n            }));\n\n            return function (_x2) {\n              return _ref2.apply(this, arguments);\n            };\n          }() }),\n        footer: false\n      });\n    }\n  }, {\n    key: 'confirmCompleteExchange',\n\n    // onEdit=(record) => {\n    //   const {companies} = this.state\n    //   const instance = Dialog.show({\n    //     title: `调整【${record.nickName}】所属公司`,\n    //     footer: false,\n    //     content: <EditForm\n    //       company={companies}\n    //       defaultCid={record.companyid}\n    //       onClose={() => {\n    //         instance.hide()\n    //       }}\n    //       onSubmit={(curCompany) => {\n    //         Fetch('changeCompany', {\n    //           companyName: curCompany.label,\n    //           companyid: curCompany.value,\n    //           uid: record.uid\n    //         }).then(() => {\n    //           // record.companyName = curCompany.label\n    //           // record.companyid = curCompany.companyid\n    //           // this.setState({})\n    //           this.loadList()\n    //           instance.hide()\n    //         })\n    //       }}\n    //     >\n    //     </EditForm>\n    //   })\n    // }\n    // cancelEdit=() => {\n    //   this.setState({\n    //     isEditing: false,\n    //     editRecord: null\n    //   })\n    // }\n    // doAddBonus(uid, typeName, addBonus) {\n    //   return Fetch('addBonus', {\n    //     uid,\n    //     typeName,\n    //     addBonus\n    //   })\n    // }\n    // addBonus(record) {\n    //   const instance = Dialog.show({\n    //     title: `给【${record.realName || record.nickName}】新增积分`,\n    //     content: <BonusForm\n    //       onClose={() => { instance.hide() }}\n    //       onSubmit={async(data) => {\n    //         const {addBonus, typeName} = data\n    //         await this.doAddBonus(record.uid, typeName, addBonus)\n    //         // const ret = await this.confirmExchange(record)\n    //         // if (!ret) {\n    //         //   instance.hide()\n    //         //   return\n    //         // }\n    //         // await Fetch('doExchange', {\n    //         //   uid: record.uid,\n    //         //   eid: data.id\n    //         // })\n    //         await this.loadList()\n    //         instance.hide()\n    //       }}\n    //     >\n    //     </BonusForm>,\n    //     footer: false\n    //   })\n    // }\n    // async doExchange(record) {\n    //   const ret = await this.loadExchangeList(record.companyid)\n    //   const instance = Dialog.show({\n    //     title: `给【${record.realName || record.nickName}】兑换奖品`,\n    //     content: <ExchangeForm\n    //       data={ret.data}\n    //       onClose={() => { instance.hide() }}\n    //       onSubmit={async(data) => {\n    //         const ret = await this.confirmExchange(record)\n    //         if (!ret) {\n    //           instance.hide()\n    //           return\n    //         }\n    //         await Fetch('doExchange', {\n    //           uid: record.uid,\n    //           eid: data.id\n    //         })\n    //         await this.loadList()\n    //         instance.hide()\n    //       }}\n    //     ></ExchangeForm>,\n    //     footer: false\n    //   })\n    // }\n    // confirmExchange(record) {\n    //   return new Promise((resolve) => {\n    //     Dialog.confirm({\n    //       title: `你确定要给【${record.realName || record.nickName}】兑换积分?`,\n    //       onOk: () => {\n    //         resolve(true)\n    //       },\n    //       onCancel: () => {\n    //         resolve()\n    //       }\n    //     })\n    //   })\n    // }\n    value: function confirmCompleteExchange(record) {\n      var _this4 = this;\n\n      _next.Dialog.confirm({\n        title: '\\u4F60\\u786E\\u5B9A\\u5B8C\\u6210\\u3010' + record.realName + '\\u3011\\u5151\\u6362\\u79EF\\u5206' + record.duihuanTotal + '?',\n        onOk: function onOk() {\n          _this4.completeExchange(record);\n        }\n      });\n    }\n  }, {\n    key: 'confirmCancelExchange',\n    value: function confirmCancelExchange(record) {\n      var _this5 = this;\n\n      _next.Dialog.confirm({\n        title: '\\u4F60\\u786E\\u5B9A\\u53D6\\u6D88\\u3010' + record.realName + '\\u3011\\u5151\\u6362\\u79EF\\u5206' + record.duihuanTotal + '?',\n        onOk: function onOk() {\n          _this5.cancelExchange(record);\n        }\n      });\n    }\n  }, {\n    key: 'completeExchange',\n    value: function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(record) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return (0, _request.Fetch)('completeUserExchange', {\n                  infoId: record.id,\n                  uid: record.uid\n                });\n\n              case 2:\n                _context3.next = 4;\n                return this.loadList();\n\n              case 4:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function completeExchange(_x3) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return completeExchange;\n    }()\n  }, {\n    key: 'cancelExchange',\n    value: function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(record) {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return (0, _request.Fetch)('cancelUserExchange', {\n                  infoId: record.id,\n                  uid: record.uid\n                });\n\n              case 2:\n                _context4.next = 4;\n                return this.loadList();\n\n              case 4:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function cancelExchange(_x4) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return cancelExchange;\n    }()\n  }, {\n    key: 'loadCompany',\n    value: function loadCompany() {\n      var _this6 = this;\n\n      return (0, _request.Fetch)('getAllCompany').then(function (resp) {\n        // console.log('resp :', resp)\n        _this6.state.companies = resp.data.map(function (item) {\n          return {\n            label: item.name,\n            value: item.cid\n          };\n        });\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.loadCompany();\n\n              case 2:\n                this.loadList();\n\n              case 3:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function componentDidMount() {\n        return _ref5.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: 'loadExchangeList',\n    value: function loadExchangeList(cid) {\n      return (0, _request.Fetch)('getExchangeList', { code_id: cid });\n    }\n  }, {\n    key: 'onChangeTime',\n\n    // onExportFile=()=>{\n    //   return Fetch('getExportCustomers')\n    // }\n    value: function onChangeTime(val) {\n      // console.log('val :', val)\n      // if()\n      // this.state.range = val\n      this.setState({\n        range: val\n      });\n      // this.loadList()\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          data = _state.data,\n          total = _state.total,\n          current = _state.current,\n          pageSize = _state.pageSize,\n          filterParams = _state.filterParams,\n          search = _state.search,\n          sort = _state.sort,\n          range = _state.range;\n\n      var startTime = range[0];\n      var endTime = range[1];\n      // startTime:  `${range[0].format('YYYY-MM-DD')} 00:00:00`,\n      // endTime:  `${range[1].format('YYYY-MM-DD')} 23:59:59`,\n      var exportUrl = startTime == null || endTime == null ? 'javascript:void(0);' : _apiMap2.default['allUserExchangeExportAll'].param.url + '?startTime=' + startTime.format('YYYY-MM-DD') + ' 00:00:00&endTime=' + endTime.format('YYYY-MM-DD') + ' 23:59:59';\n      // console.log('total :',total,current,pageSize);\n      return _react2.default.createElement(\n        'div',\n        { style: { padding: '16px' } },\n        _react2.default.createElement(\n          'div',\n          { style: { marginBottom: '16px' } },\n          _react2.default.createElement(_next.Input, {\n            value: search,\n            onChange: this.changeSearch\n            // onPressEnter={this.loadlistBySearch}\n            , placeholder: '\\u8981\\u641C\\u7D22\\u7684\\u59D3\\u540D'\n            // innerAfter={<Icon type=\"search\" size=\"xs\" onClick={this.loadlistBySearch} style={{margin: 4}}/>}\n          }),\n          _react2.default.createElement(RangePicker, { style: { marginLeft: '12px' }, value: range, onChange: this.onChangeTime }),\n          _react2.default.createElement(\n            _next.Button,\n            { type: 'primary', style: { marginLeft: \"12px\" }, onClick: this.loadlistBySearch },\n            '\\u67E5\\u8BE2'\n          ),\n          data.length > 0 ? _react2.default.createElement(\n            _next.Button,\n            { type: 'primary', style: { float: 'right' } },\n            _react2.default.createElement(\n              'a',\n              { target: '_blank', style: { color: 'white' }, href: exportUrl },\n              '\\u5BFC\\u51FA\\u4FE1\\u606F'\n            )\n          ) : ''\n        ),\n        _react2.default.createElement(\n          _next.Table,\n          { sort: sort,\n            dataSource: data,\n            onSort: this.onSort,\n            expandedRowRender: function expandedRowRender(record) {\n              return _react2.default.createElement(\n                _next.Table,\n                { dataSource: record.subItems },\n                SUB_COLUMNS.map(function (subCol, subKey) {\n                  return _react2.default.createElement(_next.Table.Column, {\n                    key: subKey,\n                    title: subCol.title,\n                    dataIndex: subCol.dataIndex\n                  });\n                })\n              );\n            },\n            filterParams: filterParams,\n            onFilter: this.onFilter },\n          this.COLUMNS.map(function (item, key) {\n            return _react2.default.createElement(_next.Table.Column, {\n              key: key,\n              title: item.title,\n              cell: item.cell,\n              filters: item.filters && item.filters(),\n              width: item.width,\n              sortable: item.sortable,\n              dataIndex: item.dataIndex\n            });\n          })\n        ),\n        _react2.default.createElement(\n          'div',\n          { style: { marginTop: '8px', display: 'flex', justifyContent: 'flex-end' } },\n          _react2.default.createElement(\n            'div',\n            { style: { display: 'flex', flexDirection: 'row', alignItems: 'center', marginRight: '20px' } },\n            _react2.default.createElement(\n              'div',\n              null,\n              '\\u6BCF\\u9875'\n            ),\n            _react2.default.createElement(\n              _next.Select,\n              { value: pageSize, onChange: this.changePageSize, hasClear: true, style: { margin: '0 12px' } },\n              pages.map(function (pg, pindex) {\n                return _react2.default.createElement(\n                  Option,\n                  { value: pg.value, key: pindex },\n                  pg.label\n                );\n              })\n            ),\n            _react2.default.createElement(\n              'div',\n              null,\n              '\\u9879'\n            )\n          ),\n          _react2.default.createElement(_next.Pagination, { onChange: this.onPageChange, total: total, current: current, pageSize: pageSize })\n        )\n      );\n    }\n  }]);\n\n  return UserExchange;\n}(_react.Component);\n\nexports.default = UserExchange;\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));\n\n/***/ }),\n\n/***/ 254:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _next = __webpack_require__(3);\n\nvar _apiMap = __webpack_require__(8);\n\nvar _apiMap2 = _interopRequireDefault(_apiMap);\n\nvar _index = __webpack_require__(255);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nif (false) {\n  module.hot.accept('./index.less', function () {\n    require('./index.less');\n  });\n}\n\nfunction getFileSize(val) {\n  if (!val || typeof val === 'string') {\n    return 1;\n  }\n  return val;\n}\n\nvar Uploader = function (_Component) {\n  _inherits(Uploader, _Component);\n\n  function Uploader(props) {\n    _classCallCheck(this, Uploader);\n\n    var _this = _possibleConstructorReturn(this, (Uploader.__proto__ || Object.getPrototypeOf(Uploader)).call(this, props));\n\n    _this.beforeUpload = _this.beforeUpload.bind(_this);\n    _this.onChange = _this.onChange.bind(_this);\n    _this.onSuccess = _this.onSuccess.bind(_this);\n    _this.onError = _this.onError.bind(_this);\n    _this.state = {\n      value: props.value\n    };\n    return _this;\n  }\n\n  _createClass(Uploader, [{\n    key: 'beforeUpload',\n    value: function beforeUpload(file) {\n      var fileSize = getFileSize(this.props.fsize);\n      // const { size } = this.props\n      // console.log('fsize :', file.size, this.props.size, fileSize * 1024 * 1024)\n      // return false\n      if (file.size > fileSize * 1024 * 1024) {\n        //   if (file.size > size) {\n        _next.Message.warning('\\u6587\\u4EF6\\u8D85\\u8FC7' + fileSize + 'M\\uFF0C\\u8BF7\\u8C03\\u6574\\u5927\\u5C0F\\u518D\\u4E0A\\u4F20');\n        return false;\n      }\n      // if (size) {\n\n      // }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(info) {\n      if (info && info[0]) {\n        var f = info[0];\n        var fRes = f.response || {};\n        if (fRes.error) {\n          // console.log('fRes.error :', fRes.error)\n          _next.Message.error('\\u4E0A\\u4F20\\u5931\\u8D25 ' + (fRes.error || '网络错误'));\n          this.setState({\n            value: []\n          });\n        } else if (fRes.data) {\n          var imgUrl = fRes.data.imgUrl;\n          var onChange = this.props.onChange;\n          // f.imgUrl = imgUrl\n\n          var newVal = [{\n            name: f.name,\n            url: imgUrl\n          }];\n          this.setState({\n            value: newVal\n          });\n          onChange && onChange(newVal);\n        }\n      } else {\n        this.setState({\n          value: info || []\n        });\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var value = nextProps.value;\n\n      this.setState({\n        value: value\n      });\n    }\n  }, {\n    key: 'onSuccess',\n    value: function onSuccess(info) {\n      var _props = this.props,\n          onSuccess = _props.onSuccess,\n          onError = _props.onError;\n      var error = info.response.error;\n\n      if (error) {\n        info.error = error;\n        onError && onError(info);\n      } else {\n        onSuccess && onSuccess(info);\n        _next.Message.success('上传成功');\n      }\n    }\n  }, {\n    key: 'onError',\n    value: function onError(info) {\n      var onError = this.props.onError;\n\n      onError && onError(info);\n      this.setState({\n        value: this.state.value\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var value = this.state.value;\n      var _props2 = this.props,\n          children = _props2.children,\n          fsize = _props2.fsize,\n          otherProps = _props2.otherProps,\n          _props2$accept = _props2.accept,\n          accept = _props2$accept === undefined ? 'image/png, image/jpg' : _props2$accept,\n          url = _props2.url;\n\n      return _react2.default.createElement(\n        _next.Upload,\n        _extends({}, otherProps, {\n          action: url || _apiMap2.default.upload.param.url\n          // beforeUpload={beforeUpload}\n          // onChange={onChange}\n          , accept: accept,\n          limit: 1,\n          beforeUpload: this.beforeUpload,\n          name: 'file',\n          size: getFileSize(fsize),\n          listType: 'image'\n          // multiple\n          , onChange: this.onChange,\n          onSuccess: this.onSuccess,\n          onError: this.onError,\n          value: value\n        }),\n        children || _react2.default.createElement(\n          _next.Button,\n          { type: 'primary', style: { padding: '0 12px' } },\n          '\\u4E0A\\u4F20\\u6587\\u4EF6'\n        )\n      );\n    }\n  }]);\n\n  return Uploader;\n}(_react.Component);\n\nexports.default = Uploader;\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(256);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(229)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(228)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 272:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _next = __webpack_require__(3);\n\nvar _upload = __webpack_require__(254);\n\nvar _upload2 = _interopRequireDefault(_upload);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormItem = _next.Form.Item;\n\nvar formItemLayout = {\n  labelCol: { span: 5 },\n  wrapperCol: { span: 19 }\n};\n\nvar RemarkForm = function (_Component) {\n  _inherits(RemarkForm, _Component);\n\n  function RemarkForm(props) {\n    _classCallCheck(this, RemarkForm);\n\n    var _this = _possibleConstructorReturn(this, (RemarkForm.__proto__ || Object.getPrototypeOf(RemarkForm)).call(this, props));\n\n    _this.state = {\n      size: 'medium'\n    };\n    return _this;\n  }\n\n  _createClass(RemarkForm, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          onSubmit = _props.onSubmit,\n          onClose = _props.onClose,\n          _props$data = _props.data,\n          data = _props$data === undefined ? {} : _props$data;\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          _next.Form,\n          _extends({}, formItemLayout, { size: this.state.size, style: { minWidth: '500px' } }),\n          _react2.default.createElement(\n            FormItem,\n            { label: '\\u4F1A\\u5458\\u6743\\u76CA\\u5206\\u7C7B\\u540D' },\n            _react2.default.createElement(_next.Input, { defaultValue: data.remark, id: 'remark', placeholder: '\\u8BF7\\u8F93\\u5165\\u5907\\u6CE8\\u4FE1\\u606F', name: 'remark' })\n          ),\n          _react2.default.createElement(\n            FormItem,\n            { wrapperCol: { offset: 5 } },\n            _react2.default.createElement(\n              _next.Form.Submit,\n              { validate: true, type: 'primary', onClick: function onClick(v, e) {\n                  if (!v.remark) {\n                    return _next.Message.warning('备注信息不能为空');\n                  }\n                  onSubmit && onSubmit(v);\n                }, style: { marginRight: 10 } },\n              '\\u63D0\\u4EA4'\n            ),\n            _react2.default.createElement(\n              _next.Form.Reset,\n              { onClick: onClose },\n              '\\u53D6\\u6D88'\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return RemarkForm;\n}(_react.Component);\n\nexports.default = RemarkForm;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// userExchange.js","\r\nimport React, { Component } from 'react'\r\nimport {Table, Button, Dialog, Input, Icon, Pagination, Select, DatePicker, Message} from '@alife/next'\r\nimport moment from 'moment'\r\nimport {Fetch} from '../../util/request'\r\nimport ApiMap from '../../util/apiMap'\r\nimport {Link} from 'react-router-dom'\r\nimport Form from './form'\r\n\r\n\r\nconst { RangePicker } = DatePicker\r\n\r\nconst Option = Select.Option\r\n// import ExchangeForm from './exchange'\r\n// import EditForm from './edit'\r\n// import BonusForm from './bonus'\r\nimport dayjs from 'dayjs'\r\n\r\nconst NormalUserExchangeStatus = [\r\n  {\r\n    label: '待处理',\r\n    value: 0\r\n  }, {\r\n    label: '已完成',  //需要真正扣除积分\r\n    value: 1\r\n  }\r\n]\r\n\r\nconst CancelStatus = {\r\n  label: '已取消',  //需要归还积分和奖品库存\r\n  value: -1\r\n}\r\n\r\nconst pages = [\r\n  {\r\n    label: '10',\r\n    value: 10\r\n  }, {\r\n    label: '25',\r\n    value: 25\r\n  }, {\r\n    label: '50',\r\n    value: 50\r\n  }, {\r\n    label: '100',\r\n    value: 100\r\n  }, {\r\n    label: '200',\r\n    value: 200\r\n  }, {\r\n    label: '500',\r\n    value: 500\r\n  }\r\n]\r\n\r\n\r\nconst UserExchangeStatus = [].concat(NormalUserExchangeStatus, [CancelStatus])\r\nconst UserExchangeStatusMap = UserExchangeStatus.reduce((ret, item) => {\r\n  ret[item.value] = item\r\n  return ret\r\n}, {})\r\n\r\n\r\nconst SUB_COLUMNS = [\r\n  {\r\n    dataIndex: 'gift_name',\r\n    title: '奖品名'\r\n  }, {\r\n    dataIndex: 'gift_desc',\r\n    title: '奖品描述'\r\n  }, {\r\n    dataIndex: 'bonus',\r\n    title: '奖品兑换所需积分'\r\n  }, {\r\n    dataIndex: 'num',\r\n    title: '奖品兑换数量'\r\n  }\r\n]\r\n\r\nclass UserExchange extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      data: [],\r\n      pageSize: 25,\r\n      current: 1,\r\n      total: 0,\r\n      search: '',\r\n      companies: [],\r\n      filterParams: {},\r\n      range: [moment().subtract(7, 'days'), moment()],\r\n      sort: {\r\n        create_time: 'desc'\r\n      }\r\n    }\r\n    this.sortColumn = 'create_time'\r\n    this.sortOrder = 'desc'\r\n    this.query = {}\r\n    this.onChangeTime = this.onChangeTime.bind(this)\r\n    this.COLUMNS = [{\r\n      dataIndex: 'avatarUrl',\r\n      title: '兑换人头像',\r\n      width: 100,\r\n      cell: function(value) {\r\n        return <img src={value} style={{width: '60px', height: '60px', borderRadius: '50%'}}/>\r\n      }\r\n    }, {\r\n      dataIndex: 'nickName',\r\n      title: '兑换人微信昵称'\r\n    }, {\r\n      dataIndex: 'realName',\r\n      title: '兑换人姓名'\r\n    }, {\r\n      dataIndex: 'companyid',\r\n      title: '兑换人公司',\r\n      cell: (value, index, record) => {\r\n        return record.companyName\r\n      },\r\n      filters: () => {\r\n        return this.state.companies\r\n      }\r\n    }, {\r\n      dataIndex: 'duihuanTotal',\r\n      title: <div style={{color: 'red'}}>本次兑换积分</div>\r\n    }, {\r\n      dataIndex: 'addrName',\r\n      title: '收货人姓名'\r\n    }, {\r\n      dataIndex: 'addrPhone',\r\n      title: '收货人电话'\r\n    }, {\r\n      dataIndex: 'province',\r\n      title: '收货人地址',\r\n      cell: (value, index, record) => {\r\n        return <div style={{maxWidth: '200px'}}>\r\n            {record.province}-{record.city}-{record.region}-{record.info}\r\n        </div>\r\n      }\r\n    }, {\r\n      dataIndex: 'create_time',\r\n      title: '兑换创建时间',\r\n      sortable: true,\r\n      cell: function(value) {\r\n        if (value == null) return '--'\r\n        return dayjs(new Date(value)).format('YYYY-MM-DD HH:mm')\r\n      }\r\n    }, {\r\n      dataIndex: 'remark',\r\n      title: '订单备注信息'\r\n    }, {\r\n      dataIndex: 'status',\r\n      title: '兑换订单状态',\r\n      cell: (value, index, record) => {\r\n        return <div style={{color: value === -1 ? 'red' : ''}}>\r\n          {UserExchangeStatusMap[value].label}\r\n        </div>\r\n      },\r\n      filters: () => {\r\n        return UserExchangeStatus\r\n      }\r\n    }, {\r\n      dataIndex: 'uid',\r\n      title: '操作',\r\n      cell: (value, index, record) => {\r\n        return <div>\r\n            {record.status === 0 && <Button style={{marginRight: '8px'}} type=\"primary\" onClick={this.confirmCompleteExchange.bind(this, record)}>完成</Button>}\r\n            {record.status === 0 && <Button style={{marginRight: '8px'}} warning type=\"primary\" onClick={this.confirmCancelExchange.bind(this, record)}>取消</Button>}\r\n            <Button type=\"secondary\" onClick={this.updateRemark.bind(this, record)}>修改订单备注</Button>\r\n            {/* <Button style={{marginRight: '8px'}} type=\"primary\" onClick={this.addBonus.bind(this, record)}>新增积分</Button>\r\n            <Button style={{marginRight: '8px'}} onClick={this.doExchange.bind(this, record)}>兑换积分</Button>\r\n            <Button onClick={this.onEdit.bind(this, record)}>调整公司</Button>\r\n            <Link style={{marginLeft: '8px'}} to={{\r\n              pathname: '/bonusRecord',\r\n              search: `uid=${value}`\r\n            }}>查看积分记录</Link>\r\n            <Link style={{marginLeft: '8px'}} to={{\r\n              pathname: '/reportRecord',\r\n              search: `uid=${value}`\r\n            }}>查看保单托管报告</Link> */}\r\n\r\n        </div>\r\n      }\r\n    }]\r\n  }\r\n  updateRemark(record) {\r\n    const instance = Dialog.show({\r\n      title: '修改订单备注',\r\n      content: <Form\r\n        onClose={() => {\r\n          instance.hide()\r\n        }} data={{\r\n          remark: record.remark\r\n        }} onSubmit={async(data) => {\r\n          await Fetch('updateExchangeRecordRemark', {\r\n            infoId: record.id,\r\n            remark: data.remark\r\n          })\r\n          // record.remark = data.remark\r\n          await this.loadList()\r\n          instance.hide()\r\n        }}></Form>,\r\n      footer: false\r\n    })\r\n  }\r\n  changePageSize= async (value) => {\r\n    this.state.pageSize = value\r\n    this.setState({\r\n      pageSize: value\r\n    })\r\n    await this.loadList()\r\n  }\r\n  // onEdit=(record) => {\r\n  //   const {companies} = this.state\r\n  //   const instance = Dialog.show({\r\n  //     title: `调整【${record.nickName}】所属公司`,\r\n  //     footer: false,\r\n  //     content: <EditForm\r\n  //       company={companies}\r\n  //       defaultCid={record.companyid}\r\n  //       onClose={() => {\r\n  //         instance.hide()\r\n  //       }}\r\n  //       onSubmit={(curCompany) => {\r\n  //         Fetch('changeCompany', {\r\n  //           companyName: curCompany.label,\r\n  //           companyid: curCompany.value,\r\n  //           uid: record.uid\r\n  //         }).then(() => {\r\n  //           // record.companyName = curCompany.label\r\n  //           // record.companyid = curCompany.companyid\r\n  //           // this.setState({})\r\n  //           this.loadList()\r\n  //           instance.hide()\r\n  //         })\r\n  //       }}\r\n  //     >\r\n  //     </EditForm>\r\n  //   })\r\n  // }\r\n  // cancelEdit=() => {\r\n  //   this.setState({\r\n  //     isEditing: false,\r\n  //     editRecord: null\r\n  //   })\r\n  // }\r\n  // doAddBonus(uid, typeName, addBonus) {\r\n  //   return Fetch('addBonus', {\r\n  //     uid,\r\n  //     typeName,\r\n  //     addBonus\r\n  //   })\r\n  // }\r\n  // addBonus(record) {\r\n  //   const instance = Dialog.show({\r\n  //     title: `给【${record.realName || record.nickName}】新增积分`,\r\n  //     content: <BonusForm\r\n  //       onClose={() => { instance.hide() }}\r\n  //       onSubmit={async(data) => {\r\n  //         const {addBonus, typeName} = data\r\n  //         await this.doAddBonus(record.uid, typeName, addBonus)\r\n  //         // const ret = await this.confirmExchange(record)\r\n  //         // if (!ret) {\r\n  //         //   instance.hide()\r\n  //         //   return\r\n  //         // }\r\n  //         // await Fetch('doExchange', {\r\n  //         //   uid: record.uid,\r\n  //         //   eid: data.id\r\n  //         // })\r\n  //         await this.loadList()\r\n  //         instance.hide()\r\n  //       }}\r\n  //     >\r\n  //     </BonusForm>,\r\n  //     footer: false\r\n  //   })\r\n  // }\r\n  // async doExchange(record) {\r\n  //   const ret = await this.loadExchangeList(record.companyid)\r\n  //   const instance = Dialog.show({\r\n  //     title: `给【${record.realName || record.nickName}】兑换奖品`,\r\n  //     content: <ExchangeForm\r\n  //       data={ret.data}\r\n  //       onClose={() => { instance.hide() }}\r\n  //       onSubmit={async(data) => {\r\n  //         const ret = await this.confirmExchange(record)\r\n  //         if (!ret) {\r\n  //           instance.hide()\r\n  //           return\r\n  //         }\r\n  //         await Fetch('doExchange', {\r\n  //           uid: record.uid,\r\n  //           eid: data.id\r\n  //         })\r\n  //         await this.loadList()\r\n  //         instance.hide()\r\n  //       }}\r\n  //     ></ExchangeForm>,\r\n  //     footer: false\r\n  //   })\r\n  // }\r\n  // confirmExchange(record) {\r\n  //   return new Promise((resolve) => {\r\n  //     Dialog.confirm({\r\n  //       title: `你确定要给【${record.realName || record.nickName}】兑换积分?`,\r\n  //       onOk: () => {\r\n  //         resolve(true)\r\n  //       },\r\n  //       onCancel: () => {\r\n  //         resolve()\r\n  //       }\r\n  //     })\r\n  //   })\r\n  // }\r\n  confirmCompleteExchange(record) {\r\n    Dialog.confirm({\r\n      title: `你确定完成【${record.realName}】兑换积分${record.duihuanTotal}?`,\r\n      onOk: () => {\r\n        this.completeExchange(record)\r\n      }\r\n    })\r\n  }\r\n  confirmCancelExchange(record) {\r\n    Dialog.confirm({\r\n      title: `你确定取消【${record.realName}】兑换积分${record.duihuanTotal}?`,\r\n      onOk: () => {\r\n        this.cancelExchange(record)\r\n      }\r\n    })\r\n  }\r\n  async completeExchange(record) {\r\n    await Fetch('completeUserExchange', {\r\n      infoId: record.id,\r\n      uid: record.uid\r\n    })\r\n    await this.loadList()\r\n  }\r\n  async cancelExchange(record) {\r\n    await Fetch('cancelUserExchange', {\r\n      infoId: record.id,\r\n      uid: record.uid\r\n    })\r\n    await this.loadList()\r\n  }\r\n  loadCompany() {\r\n    return Fetch('getAllCompany').then((resp) => {\r\n      // console.log('resp :', resp)\r\n      this.state.companies = resp.data.map((item) => {\r\n        return {\r\n          label: item.name,\r\n          value: item.cid\r\n        }\r\n      })\r\n    })\r\n  }\r\n  async componentDidMount() {\r\n    await this.loadCompany()\r\n    this.loadList()\r\n  }\r\n  loadExchangeList(cid) {\r\n    return Fetch('getExchangeList', {code_id: cid})\r\n  }\r\n  loadList=() => {\r\n    const {pageSize, current, filterParams, search, range} = this.state\r\n    console.log('filterParams :', filterParams)\r\n    return Fetch('allUserExchange', {\r\n      pageSize,\r\n      current,\r\n      search,\r\n      startTime:  `${range[0].format('YYYY-MM-DD')} 00:00:00`,\r\n      endTime:  `${range[1].format('YYYY-MM-DD')} 23:59:59`,\r\n      sortColumn: this.sortColumn,\r\n      sortOrder: this.sortOrder,\r\n      filterStr: JSON.stringify(Object.keys(filterParams).map((name) => {\r\n        return {\r\n          name,\r\n          values: filterParams[name].selectedKeys\r\n        }\r\n      }))\r\n    }).then((resp) => {\r\n      const {data, total} = resp.data\r\n      data.forEach((item) => {\r\n        item.duihuanTotal = item.subItems.reduce((total, subItem) => {\r\n          total += subItem.bonus * subItem.num\r\n          return total\r\n        }, 0)\r\n      })\r\n      this.setState({\r\n        data: data,\r\n        total\r\n      })\r\n    })\r\n  }\r\n  onFilter=(filterParams) => {\r\n    // console.log('filterParams :', filterParams)\r\n    this.state.filterParams = filterParams\r\n    this.loadList()\r\n    this.setState({\r\n      filterParams\r\n    })\r\n  }\r\n  onPageChange=(current) => {\r\n    this.state.current = current\r\n    this.loadList()\r\n    this.setState({\r\n      current\r\n    })\r\n  }\r\n  changeSearch=(val) => {\r\n    this.setState({\r\n      search: val\r\n    })\r\n  }\r\n  onSort=(dataIndex, order) => {\r\n    // console.log(dataIndex, order)\r\n    this.sortColumn = dataIndex\r\n    this.sortOrder = order\r\n    this.loadList()\r\n    this.setState({\r\n      sort: {\r\n        [dataIndex]: order\r\n      }\r\n    })\r\n  }\r\n  loadlistBySearch=() => {\r\n    const range = this.state.range\r\n    this.state.current = 1\r\n    if(range.some((item)=> item == null)){\r\n      Message.warning('请选择开始日期和结束日期')\r\n      return\r\n    }\r\n    this.loadList()\r\n  }\r\n  // onExportFile=()=>{\r\n  //   return Fetch('getExportCustomers')\r\n  // }\r\n  onChangeTime(val) {\r\n    // console.log('val :', val)\r\n    // if()\r\n    // this.state.range = val\r\n    this.setState({\r\n      range: val\r\n    })\r\n    // this.loadList()\r\n  }\r\n  render() {\r\n    const {data, total, current, pageSize, filterParams, search, sort, range} = this.state\r\n    const startTime = range[0]\r\n    const endTime = range[1]\r\n    // startTime:  `${range[0].format('YYYY-MM-DD')} 00:00:00`,\r\n    // endTime:  `${range[1].format('YYYY-MM-DD')} 23:59:59`,\r\n    const exportUrl = startTime == null || endTime == null ? 'javascript:void(0);' : `${ApiMap['allUserExchangeExportAll'].param.url}?startTime=${startTime.format('YYYY-MM-DD')} 00:00:00&endTime=${endTime.format('YYYY-MM-DD')} 23:59:59`\r\n    // console.log('total :',total,current,pageSize);\r\n    return (\r\n                <div style={{padding: '16px'}}>\r\n                  <div style={{marginBottom: '16px'}}>\r\n                    <Input\r\n                    value={search}\r\n                    onChange={this.changeSearch}\r\n                    // onPressEnter={this.loadlistBySearch}\r\n                    placeholder=\"要搜索的姓名\"\r\n                    // innerAfter={<Icon type=\"search\" size=\"xs\" onClick={this.loadlistBySearch} style={{margin: 4}}/>}\r\n                    ></Input>\r\n\r\n                    <RangePicker style={{marginLeft: '12px'}} value={range} onChange={this.onChangeTime}></RangePicker>\r\n                    <Button type=\"primary\" style={{marginLeft:\"12px\"}} onClick={this.loadlistBySearch}>查询</Button>\r\n                    {/* <Button type=\"primary\" style={{float:'right'}}>\r\n                      <a target=\"_blank\" href={ApiMap['getExportCustomers'].param.url} style={{color:'white'}}>导出文件</a>\r\n                    </Button> */}\r\n                    {data.length > 0 ? <Button type=\"primary\" style={{float: 'right'}}>\r\n                      <a target=\"_blank\" style={{color: 'white'}} href={exportUrl}>导出信息</a>\r\n                    </Button> : ''}\r\n                  </div>\r\n                  <Table sort={sort} \r\n                  dataSource={data} \r\n                  onSort={this.onSort} \r\n                  expandedRowRender={(record) => {\r\n                    return <Table dataSource={record.subItems} >\r\n                      {\r\n                        SUB_COLUMNS.map((subCol, subKey) => {\r\n                          return <Table.Column\r\n                          key={subKey}\r\n                          title={subCol.title}\r\n                          dataIndex={subCol.dataIndex}\r\n                          ></Table.Column>\r\n                        })\r\n                      }\r\n                    </Table>\r\n                  }}\r\n                  filterParams={filterParams} \r\n                  onFilter={this.onFilter}>\r\n                    {\r\n                      this.COLUMNS.map((item, key) => {\r\n                        return <Table.Column\r\n                        key={key}\r\n                        title={item.title}\r\n                        cell={item.cell}\r\n                        filters={item.filters && item.filters()}\r\n                        width={item.width}\r\n                        sortable={item.sortable}\r\n                        dataIndex={item.dataIndex}\r\n                        ></Table.Column>\r\n                      })\r\n                    }\r\n                  </Table>\r\n                  <div style={{marginTop: '8px', display: 'flex', justifyContent: 'flex-end'}}>\r\n                    <div style={{display: 'flex', flexDirection: 'row', alignItems: 'center',marginRight: '20px'}}>\r\n                      <div>每页</div>\r\n                      <Select value={pageSize} onChange={this.changePageSize} hasClear style={{ margin: '0 12px' }}>\r\n                        {\r\n                          pages.map((pg, pindex) => {\r\n                            return <Option value={pg.value} key={pindex}>{pg.label}</Option>\r\n                          })\r\n                        }\r\n                      </Select>\r\n                      <div>项</div>\r\n                    </div>\r\n                    <Pagination onChange={this.onPageChange} total={total} current={current} pageSize={pageSize}></Pagination>\r\n                  </div>\r\n                </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserExchange\r\n\n\n\n// WEBPACK FOOTER //\n// F:/workspace/miniapp/backend/manage/containers/userExchange/index.js","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// F:/workspace/miniapp/node_modules/dayjs/dayjs.min.js\n// module id = 252\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17","\r\nimport React, { Component } from 'react'\r\nimport { Upload, Button, Message } from '@alife/next'\r\nimport apiMap from '../../util/apiMap'\r\nimport s from './index.less'\r\n\r\nfunction getFileSize(val) {\r\n  if (!val || typeof val === 'string') {\r\n    return 1\r\n  }\r\n  return val\r\n}\r\n\r\nexport default class Uploader extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.beforeUpload = this.beforeUpload.bind(this)\r\n    this.onChange = this.onChange.bind(this)\r\n    this.onSuccess = this.onSuccess.bind(this)\r\n    this.onError = this.onError.bind(this)\r\n    this.state = {\r\n      value: props.value\r\n    }\r\n  }\r\n  beforeUpload(file) {\r\n    const fileSize = getFileSize(this.props.fsize)\r\n    // const { size } = this.props\r\n    // console.log('fsize :', file.size, this.props.size, fileSize * 1024 * 1024)\r\n    // return false\r\n    if (file.size > fileSize * 1024 * 1024) {\r\n//   if (file.size > size) {\r\n      Message.warning(`文件超过${fileSize}M，请调整大小再上传`)\r\n      return false\r\n    }\r\n    // if (size) {\r\n\r\n    // }\r\n  }\r\n  onChange(info) {\r\n    if (info && info[0]) {\r\n      const f = info[0]\r\n      const fRes = f.response || {}\r\n      if (fRes.error) {\r\n        // console.log('fRes.error :', fRes.error)\r\n        Message.error(`上传失败 ${fRes.error || '网络错误'}`)\r\n        this.setState({\r\n          value: []\r\n        })\r\n      } else if (fRes.data) {\r\n        const { imgUrl } = fRes.data\r\n        const {onChange} = this.props\r\n        // f.imgUrl = imgUrl\r\n        const newVal = [\r\n          {\r\n            name: f.name,\r\n            url: imgUrl\r\n          }\r\n        ]\r\n        this.setState({\r\n          value: newVal\r\n        })\r\n        onChange && onChange(newVal)\r\n      }\r\n    } else {\r\n      this.setState({\r\n        value: info || []\r\n      })\r\n    }\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    const { value } = nextProps\r\n    this.setState({\r\n      value\r\n    })\r\n  }\r\n  onSuccess(info) {\r\n    const {onSuccess, onError} = this.props\r\n    const { error } = info.response\r\n    if (error) {\r\n      info.error = error\r\n      onError && onError(info)\r\n    } else {\r\n      onSuccess && onSuccess(info)\r\n      Message.success('上传成功')\r\n    }\r\n  }\r\n  onError(info) {\r\n    const {onError} = this.props\r\n    onError && onError(info)\r\n    this.setState({\r\n      value: this.state.value\r\n    })\r\n  }\r\n  render() {\r\n    const { value } = this.state\r\n    const { children, fsize, otherProps, accept = 'image/png, image/jpg', url } = this.props\r\n    return <Upload\r\n        {...otherProps}\r\n        action={url || apiMap.upload.param.url}\r\n        // beforeUpload={beforeUpload}\r\n        // onChange={onChange}\r\n        accept={accept}\r\n        limit={1}\r\n        beforeUpload={this.beforeUpload}\r\n        name=\"file\"\r\n        size={getFileSize(fsize)}\r\n        listType=\"image\"\r\n        // multiple\r\n        onChange={this.onChange}\r\n        onSuccess={this.onSuccess}\r\n        onError={this.onError}\r\n        value={value}\r\n    >\r\n        {children || <Button type=\"primary\" style={{padding: '0 12px'}}>上传文件</Button>}\r\n    </Upload>\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// F:/workspace/miniapp/backend/manage/components/upload/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\style-loader\\\\lib\\\\addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\happypack\\\\loader.js?id=style2!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// F:/workspace/miniapp/backend/manage/components/upload/index.less\n// module id = 255\n// module chunks = 0 2 3 6 7 8","exports = module.exports = require(\"C:\\\\Users\\\\洛丹\\\\.wgather\\\\packers\\\\node_modules\\\\wgather-pack-webpack\\\\node_modules\\\\css-loader\\\\lib\\\\css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/happypack/loader.js?id=style2!F:/workspace/miniapp/backend/manage/components/upload/index.less\n// module id = 256\n// module chunks = 0 2 3 6 7 8","\r\nimport React, { Component } from 'react'\r\nimport {Input, Form, Message, Switch} from '@alife/next'\r\nimport Uploader from '../../components/upload'\r\nconst FormItem = Form.Item\r\n\r\nconst formItemLayout = {\r\n  labelCol: {span: 5},\r\n  wrapperCol: {span: 19}\r\n}\r\n\r\n\r\nclass RemarkForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      size: 'medium'\r\n    }\r\n  }\r\n  render() {\r\n    const {onSubmit, onClose, data = {}} = this.props\r\n    return (\r\n            <div>\r\n                <Form {...formItemLayout} size={this.state.size} style={{minWidth: '500px'}}>\r\n                    <FormItem label=\"会员权益分类名\">\r\n                        <Input defaultValue={data.remark} id=\"remark\" placeholder=\"请输入备注信息\" name=\"remark\"/>\r\n                    </FormItem>\r\n                    <FormItem wrapperCol={{ offset: 5 }} >\r\n                        <Form.Submit validate type=\"primary\" onClick={(v, e) => {\r\n                          if (!v.remark) {\r\n                            return Message.warning('备注信息不能为空')\r\n                          }\r\n                          onSubmit && onSubmit(v)\r\n                        }} style={{marginRight: 10}}>提交</Form.Submit>\r\n                        <Form.Reset onClick={onClose}>取消</Form.Reset>\r\n                    </FormItem>\r\n                </Form>\r\n            </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RemarkForm\r\n\n\n\n// WEBPACK FOOTER //\n// F:/workspace/miniapp/backend/manage/containers/userExchange/form.js"],"sourceRoot":""}